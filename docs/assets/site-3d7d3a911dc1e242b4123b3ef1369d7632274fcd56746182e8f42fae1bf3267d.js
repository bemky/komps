!function(){"use strict";const a=["accept","accept-charset","accesskey","action","align","allow","alt","async","autocapitalize","autocomplete","autofocus","autoplay","background","bgcolor","border","buffered","capture","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","csp","data","data-*","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","referrerpolicy","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","translate","type","usemap","value","width","wrap","aria","aria-*"],i=["disabled","readonly","multiple","checked","autobuffer","autoplay","controls","loop","selected","hidden","scoped","async","defer","reversed","ismap","seemless","muted","required","autofocus","novalidate","formnovalidate","open","pubdate","itemscope"];function l(e="div",n={}){"object"==typeof e&&(e=(n=e).tag||"div");const r=document.createElement(e);return Object.keys(n).forEach(t=>{if(0!=a.filter(e=>t.match(new RegExp(e))).length||"children"==t){const o=n[t];if(i.includes(t))return!1!==o?r[t]=!0:void 0;switch(t){case"tag":return;case"value":return r.value=o;case"data":if("object"==typeof o)return Object.keys(o).forEach(e=>{r.dataset[e]="object"==typeof o[e]?JSON.stringify(o[e]):o[e]});break;case"style":if("object"==typeof o)return Object.keys(o).forEach(e=>{r.style[e]=o[e]});break;case"content":case"children":return void function t(o,e,n,r,a){a=a||"append";if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)Array.from(e).forEach(e=>t(o,e,n,r));else if(n instanceof Element){const i=Array.from(arguments).slice(1).filter(e=>e instanceof Element);i.forEach(e=>t(o,e))}else{if("boolean"!=typeof n&&(r=n,n=void 0),e instanceof Promise){const s=document.createElement("span");return o[a](s),(new Date).getMilliseconds(),e.then(e=>{t(s,e,n,r),d(s,s.childNodes),u(s)})}if(e instanceof Element||e instanceof Node)return o[a](e);if(null!=e){if("function"==typeof e)return t(o,e.bind(r)(o),n,r);if("object"==typeof e)return o[a](l(e));if(n)return o[a](e);{const c=document.createElement("div");return c.innerHTML=e,o[a](...c.childNodes)}}}}(r,o)}r.setAttribute(t,o)}}),r}function d(e,t){if(Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection){for(var o=Array.from(t);0<o.length;)e=d(e,o.pop());return e}if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)return d(e[0],t);if(e.parentNode)return t instanceof Node||(t=new Text(t)),e.parentNode.insertBefore(t,e),t;throw"argument of insertBefore unsupported"}function u(e){return e instanceof NodeList||e instanceof Array||e instanceof HTMLCollection?(e=Array.from(e)).forEach(u):e.parentNode.removeChild(e),e}class t{constructor(e){this.options={},this.options.klass=e.klass||!1,this.content=e.content,this.el=l(),this.el.removeAttribute("content"),this.el.classList.add("uniformModal"),this.el.modal=this}keyup(e){27==e.which&&this.close()}render(){(this.highest_z_index=0)<document.body.querySelectorAll(".uniformModal").length&&(this.highest_z_index=Math.max(Array.prototype.map.call(document.body.querySelectorAll(".uniformModal"),function(e){return parseInt((t="zIndex",getComputedStyle(e)[t]));var t})),this.el.style.zIndex=this.highest_z_index+2),document.body.classList.add("uniformModal-active"),document.body.appendChild(this.el);var e,t=l("div",{class:"uniformModal-container",children:this.content,tabindex:0}),o=l("div",{class:"uniformModal-close-container",children:{class:"uniformModal-close js-modal-close"}}),o=(this.el.append(t),this.el.append(o),t.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));return(o||t).focus(),this.options.klass&&t.classList.add(this.options.klass),this.content.innerHTML&&(o=this.content,t="rendered",(e=document.createEvent("HTMLEvents")).initEvent(t,!0,!1),o.dispatchEvent(e)),this}checkClose(e){e.target.matches(".js-modal-close, .uniformModal")&&this.close()}close(){0==document.querySelectorAll(".uniformModal").length&&document.body.classList.remove("uniformModal-active")}}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".js-launch-modal").addEventListener("click",e=>{new t({content:"Hello World"}).render()})})}();
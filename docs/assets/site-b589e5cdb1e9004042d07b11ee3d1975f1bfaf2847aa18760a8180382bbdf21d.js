!function(){"use strict";const i=["accept","accept-charset","accesskey","action","align","allow","alt","async","autocapitalize","autocomplete","autofocus","autoplay","background","bgcolor","border","buffered","capture","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","csp","data","data-*","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","referrerpolicy","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","translate","type","usemap","value","width","wrap","aria","aria-*"],V=["disabled","readOnly","multiple","checked","autobuffer","autoplay","controls","loop","selected","hidden","scoped","async","defer","reversed","isMap","seemless","muted","required","autofocus","noValidate","formNoValidate","open","pubdate","itemscope"];function n(o,r={}){Object.keys(r).forEach(e=>{if(0!=i.filter(t=>e.match(new RegExp(t))).length||"children"==e){const n=r[e];var t=V.find(t=>t.toUpperCase()==e.toUpperCase());if(t)return!1!==n?o[t]=!0:void 0;switch(e){case"tag":return;case"value":return o.value=n;case"data":if("object"==typeof n)return Object.keys(n).forEach(t=>{o.dataset[t]="object"==typeof n[t]?JSON.stringify(n[t]):n[t]});break;case"style":if("object"==typeof n)return Object.keys(n).forEach(t=>{o.style[t]=n[t]});break;case"content":case"children":return void c(o,n)}o.setAttribute(e,n)}})}function l(t="div",e={}){"object"==typeof t&&(t=(e=t).tag||"div");t=document.createElement(t);return n(t,e),t}function s(t){return t instanceof NodeList||t instanceof Array||t instanceof HTMLCollection?(t=Array.from(t)).forEach(s):t.parentNode.removeChild(t),t}function c(e,t,n,o,r){if(r=r||"append",Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection)Array.from(t).forEach(t=>c(e,t,n,o));else if(n instanceof Element)Array.from(arguments).slice(1).filter(t=>t instanceof Element).forEach(t=>c(e,t));else if("boolean"!=typeof n&&(o=n,n=void 0),null!=t){var i;if(t instanceof Promise||t.then){const a=document.createElement("span");return e[r](a),(new Date).getMilliseconds(),t.then(t=>{c(a,t,n,o),function t(e,n){if(Array.isArray(n)||n instanceof NodeList||n instanceof HTMLCollection){for(var o=Array.from(n);0<o.length;)e=t(e,o.pop());return e}if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)return t(e[0],n);if(e.parentNode)return n instanceof Node||(n=new Text(n)),e.parentNode.insertBefore(n,e),n;throw"argument of insertBefore unsupported"}(a,a.childNodes),s(a)})}return t instanceof Element||t instanceof Node?e[r](t):"function"==typeof t?c(e,t.bind(o)(e),n,o):"object"==typeof t?e[r](l(t)):n?e[r](t):((i=document.createElement("div")).innerHTML=t,e[r](...i.childNodes))}}function o(t,e){return getComputedStyle(t)[e]}class t extends HTMLElement{static options=[];static style="";cleanupCallbacks=[];constructor(e={}){super(),this.constructor.options.forEach(t=>{this[t]=e[t],delete e[t]}),n(this,e)}connected(){}connectedCallback(){this.trigger("beforeConnect"),this.appendStyle(),this.constructor.options.forEach(t=>{var e,n,o=this.getAttribute(t)||this.dataset[t]||this[t];"content"==t&&o?(this.removeAttribute("content"),n=o,(e=this).innerHTML="",c(e,n)):this[t]=o}),this.connected(),this.trigger("afterConnect")}disconnected(){}disconnectedCallback(){this.trigger("beforeDisconnect"),this.cleanupCallbacks.forEach(t=>t()),this.cleanupCallbacks=[],this.disconnected(),this.trigger("afterDisconnect")}appendStyle(){if(this.constructor.style){var t,e=this.getRootNode();const n=this.tagName.toLowerCase();e&&e.adoptedStyleSheets&&!e.adoptedStyleSheets.find(t=>t.id!=n)&&((t=new CSSStyleSheet).replaceSync(this.constructor.style),t.id=n,e.adoptedStyleSheets.push(t))}}remove(t){return this.trigger("beforeRemove"),t&&t(),s(this),this.trigger("afterRemove"),this}addEventListenerFor(...t){this.cleanupCallbacks.push(()=>{t[0].removeEventListener(...t.slice(1))}),t[0].addEventListener(...t.slice(1))}trigger(...t){var e,n;[t,e]=[this,...t],(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!1),t.dispatchEvent(n)}}class e extends t{static style=`
        komp-modal-backdrop {
            position: fixed;
            inset: 0;
            overflow: scroll;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0, 0.6);
            backdrop-filter: blur(4px); // Not supported for dialog::backdrop as of 2023-09-13
        }
        komp-modal-container {
            display: flex;
            justify-content: center;
            align-items: stretch;
            padding: 2em;
        }
        komp-modal-close {
            width: 0;
            position: relative;
            background: red;
        }
        komp-modal-close button {
            position: absolute;
            bottom: 100%;
            left: 0;
            padding: 0.25em;
            outline: none;
            appearance: none;
            border: none;
            background:none;
            padding: 0;
            margin: 0;
            list-style:none;
            text-decoration: none;
            color: white;
            cursor: pointer;
            opacity: 0.75;
        }
        komp-modal-close button:hover {
            opacity: 1;
        }
    `;connected(){var t;"KOMP-MODAL-CONTAINER"!=this.parentElement.tagName&&(t=l("komp-modal-container"),this.backdrop=l("komp-modal-backdrop",{content:t}),this.backdrop.addEventListener("click",t=>{t.target==this.backdrop&&this.remove()}),this.replaceWith(this.backdrop),t.append(this),t.append(l("komp-modal-close",{content:function(t){let e=t.pop(),n=t.pop();"string"==typeof n||Array.isArray(n)||(t=t.concat(n),n="click"),"string"!=typeof t[0]&&t.unshift("button");const o=l(...t);return(n=Array.isArray(n)?n:[n]).forEach(t=>o.addEventListener(t,e)),o}([{content:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'},t=>{this.remove()}])}))),this.getRootNode().body.style.overflow="hidden"}remove(){super.remove(()=>{this.getRootNode().body.style.overflow="",s(this.backdrop)})}}window.customElements.define("komp-modal",e);const r=["start","end"],_=["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-"+r[0],e+"-"+r[1]),[]),b=Math.min,w=Math.max,a=Math.round,p=Math.floor,y=t=>({x:t,y:t}),q={left:"right",right:"left",bottom:"top",top:"bottom"},I={start:"end",end:"start"};function v(t,e,n){return w(t,b(e,n))}function k(t,e){return"function"==typeof t?t(e):t}function E(t){return t.split("-")[0]}function x(t){return t.split("-")[1]}function U(t){return"x"===t?"y":"x"}function L(t){return"y"===t?"height":"width"}function R(t){return["top","bottom"].includes(E(t))?"y":"x"}function T(t){return U(R(t))}function X(t,e,n){void 0===n&&(n=!1);var o=x(t),t=T(t),r=L(t);let i="x"===t?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return[i=e.reference[r]>e.floating[r]?C(i):i,C(i)]}function A(t){return t.replace(/start|end/g,t=>I[t])}function Y(t,e,n,o){const r=x(t);let i=function(t,e,n){var o=["left","right"],r=["right","left"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(E(t),"start"===n,o);return i=r&&(i=i.map(t=>t+"-"+r),e)?i.concat(i.map(A)):i}function C(t){return t.replace(/left|right|bottom|top/g,t=>q[t])}function O(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function S(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function $(t,e,n){var{reference:o,floating:r}=t,t=R(e),i=T(e),a=L(i),l=E(e),s="y"===t,c=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,d=o[a]/2-r[a]/2;let u;switch(l){case"top":u={x:c,y:o.y-r.height};break;case"bottom":u={x:c,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:f};break;case"left":u={x:o.x-r.width,y:f};break;default:u={x:o.x,y:o.y}}switch(x(e)){case"start":u[i]-=d*(n&&s?-1:1);break;case"end":u[i]+=d*(n&&s?-1:1)}return u}async function N(t,e){var{x:n,y:o,platform:r,rects:i,elements:a,strategy:l}=t,{boundary:e="clippingAncestors",rootBoundary:t="viewport",elementContext:s="floating",altBoundary:c=!1,padding:f=0}=k(e=void 0===e?{}:e,t),f=O(f),c=a[c?"floating"===s?"reference":"floating":s],d=S(await r.getClippingRect({element:null==(d=await(null==r.isElement?void 0:r.isElement(c)))||d?c:c.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:e,rootBoundary:t,strategy:l})),c="floating"===s?{...i.floating,x:n,y:o}:i.reference,e=await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),t=await(null==r.isElement?void 0:r.isElement(e))&&await(null==r.getScale?void 0:r.getScale(e))||{x:1,y:1},s=S(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c,offsetParent:e,strategy:l}):c);return{top:(d.top-s.top+f.top)/t.y,bottom:(s.bottom-d.bottom+f.bottom)/t.y,left:(d.left-s.left+f.left)/t.x,right:(s.right-d.right+f.right)/t.x}}function J(t){var e=b(...t.map(t=>t.left)),n=b(...t.map(t=>t.top));return{x:e,y:n,width:w(...t.map(t=>t.right))-e,height:w(...t.map(t=>t.bottom))-n}}function f(t){return K(t)?(t.nodeName||"").toLowerCase():"#document"}function D(t){return(null==t||null==(t=t.ownerDocument)?void 0:t.defaultView)||window}function m(t){return null==(t=(K(t)?t.ownerDocument:t.document)||window.document)?void 0:t.documentElement}function K(t){return t instanceof Node||t instanceof D(t).Node}function P(t){return t instanceof Element||t instanceof D(t).Element}function d(t){return t instanceof HTMLElement||t instanceof D(t).HTMLElement}function G(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof D(t).ShadowRoot)}function u(t){var{overflow:t,overflowX:e,overflowY:n,display:o}=j(t);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(o)}function h(t){var e=g();const n=j(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(t=>(n.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(n.contain||"").includes(t))}function g(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function M(t){return["html","body","#document"].includes(f(t))}function j(t){return D(t).getComputedStyle(t)}function H(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function F(t){return"html"!==f(t)&&(t=t.assignedSlot||t.parentNode||G(t)&&t.host||m(t),G(t))?t.host:t}function z(t,e){void 0===e&&(e=[]);var n=function t(e){var n=F(e);return M(n)?(e.ownerDocument||e).body:d(n)&&u(n)?n:t(n)}(t),t=n===(null==(t=t.ownerDocument)?void 0:t.body),o=D(n);return t?e.concat(o,o.visualViewport||[],u(n)?n:[],o.frameElement?z(o.frameElement):[]):e.concat(n,z(n))}function Q(t){var e=j(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;var e=d(t),r=e?t.offsetWidth:n,e=e?t.offsetHeight:o,t=a(n)!==r||a(o)!==e;return t&&(n=r,o=e),{width:n,height:o,$:t}}function Z(t){return P(t)?t:t.contextElement}function B(t){t=Z(t);if(!d(t))return y(1);var e=t.getBoundingClientRect(),{width:t,height:n,$:o}=Q(t);let r=(o?a(e.width):e.width)/t,i=(o?a(e.height):e.height)/n;return r&&Number.isFinite(r)||(r=1),i&&Number.isFinite(i)||(i=1),{x:r,y:i}}const tt=y(0);function et(t){t=D(t);return g()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tt}function W(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=Z(t);let a=y(1);e&&(o?P(o)&&(a=B(o)):a=B(t));e=i,void 0===(t=n)&&(t=!1);n=!(n=o)||t&&n!==D(e)||!t?y(0):et(i);let l=(r.left+n.x)/a.x,s=(r.top+n.y)/a.y,c=r.width/a.x,f=r.height/a.y;if(i){var d=D(i),u=o&&P(o)?D(o):o;let t=d.frameElement;for(;t&&o&&u!==d;){var h=B(t),p=t.getBoundingClientRect(),m=j(t),g=p.left+(t.clientLeft+parseFloat(m.paddingLeft))*h.x,p=p.top+(t.clientTop+parseFloat(m.paddingTop))*h.y;l*=h.x,s*=h.y,c*=h.x,f*=h.y,l+=g,s+=p,t=D(t).frameElement}}return S({width:c,height:f,x:l,y:s})}function nt(t){return W(m(t)).left+H(t).scrollLeft}function ot(t,e,n){let o;var r,i,a;return S(o="viewport"===e?function(t,e){var n=D(t),t=m(t),n=n.visualViewport;let o=t.clientWidth,r=t.clientHeight,i=0,a=0;return n&&(o=n.width,r=n.height,g()&&"fixed"!==e||(i=n.offsetLeft,a=n.offsetTop)),{width:o,height:r,x:i,y:a}}(t,n):"document"===e?function(t){var e=m(t),n=H(t),o=t.ownerDocument.body,r=w(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=w(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+nt(t);return t=-n.scrollTop,"rtl"===j(o).direction&&(a+=w(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:a,y:t}}(m(t)):P(e)?(i=(n=W(r=e,!0,"fixed"===(n=n))).top+r.clientTop,n=n.left+r.clientLeft,a=d(r)?B(r):y(1),{width:r.clientWidth*a.x,height:r.clientHeight*a.y,x:n*a.x,y:i*a.y}):(r=et(t),{...e,x:e.x-r.x,y:e.y-r.y}))}function rt(t,e){var n=e.get(t);if(n)return n;let o=z(t).filter(t=>P(t)&&"body"!==f(t)),r=null;var i="fixed"===j(t).position;let a=i?F(t):t;for(;P(a)&&!M(a);){var l=j(a),s=h(a),s=(s||"fixed"!==l.position||(r=null),i?!s&&!r:!s&&"static"===l.position&&!!r&&["absolute","fixed"].includes(r.position)||u(a)&&!s&&function t(e,n){e=F(e);return!(e===n||!P(e)||M(e))&&("fixed"===j(e).position||t(e,n))}(t,a));s?o=o.filter(t=>t!==a):r=l,a=F(a)}return e.set(t,o),o}function it(t,e){return d(t)&&"fixed"!==j(t).position?e?e(t):t.offsetParent:null}function at(t,e){var n,o=D(t);if(!d(t))return o;let r=it(t,e);for(;r&&(n=r,["table","td","th"].includes(f(n)))&&"static"===j(r).position;)r=it(r,e);return(!r||"html"!==f(r)&&("body"!==f(r)||"static"!==j(r).position||h(r)))&&(r||function(t){let e=F(t);for(;d(e)&&!M(e);){if(h(e))return e;e=F(e)}return null}(t))||o}const lt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var{rect:t,offsetParent:e,strategy:n}=t,o=d(e),r=m(e);if(e===r)return t;let i={scrollLeft:0,scrollTop:0},a=y(1);var l=y(0);return(o||!o&&"fixed"!==n)&&("body"===f(e)&&!u(r)||(i=H(e)),d(e))&&(o=W(e),a=B(e),l.x=o.x+e.clientLeft,l.y=o.y+e.clientTop),{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-i.scrollLeft*a.x+l.x,y:t.y*a.y-i.scrollTop*a.y+l.y}},getDocumentElement:m,getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:o,strategy:r}=t;var i=(t=[..."clippingAncestors"===e?rt(n,this._c):[].concat(e),o])[0];return{width:(t=t.reduce((t,e)=>{e=ot(n,e,r);return t.top=w(e.top,t.top),t.right=b(e.right,t.right),t.bottom=b(e.bottom,t.bottom),t.left=w(e.left,t.left),t},ot(n,i,r))).right-t.left,height:t.bottom-t.top,x:t.left,y:t.top}},getOffsetParent:at,getElementRects:async function(t){var{reference:t,floating:e,strategy:n}=t,o=this.getOffsetParent||at,r=this.getDimensions;return{reference:function(t,e,n){var o=d(e),r=m(e),t=W(t,!0,n="fixed"===n,e);let i={scrollLeft:0,scrollTop:0};var a=y(0);return!o&&n||("body"===f(e)&&!u(r)||(i=H(e)),o?(o=W(e,!0,n,e),a.x=o.x+e.clientLeft,a.y=o.y+e.clientTop):r&&(a.x=nt(r))),{x:t.left+i.scrollLeft-a.x,y:t.top+i.scrollTop-a.y,width:t.width,height:t.height}}(t,await o(e),n),floating:{x:0,y:0,...await r(e)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:Q,getScale:B,isElement:P,isRTL:function(t){return"rtl"===j(t).direction}};function st(c,e){let f=null,d;const u=m(c);function h(){clearTimeout(d),f&&f.disconnect(),f=null}return function n(o,r){void 0===o&&(o=!1),void 0===r&&(r=1),h();var{left:t,top:i,width:a,height:l}=c.getBoundingClientRect();if(o||e(),a&&l){o={rootMargin:-p(i)+"px "+-p(u.clientWidth-(t+a))+"px "+-p(u.clientHeight-(i+l))+"px "+-p(t)+"px",threshold:w(0,b(1,r))||1};let e=!0;try{f=new IntersectionObserver(s,{...o,root:u.ownerDocument})}catch(t){f=new IntersectionObserver(s,o)}function s(t){if((t=t[0].intersectionRatio)!==r){if(!e)return n();t?n(!1,t):d=setTimeout(()=>{n(!1,1e-7)},100)}e=!1}f.observe(c)}}(!0),h}function ct(n,e,o,t){void 0===t&&(t={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=t,c=Z(n),f=r||i?[...c?z(c):[],...z(e)]:[],d=(f.forEach(t=>{r&&t.addEventListener("scroll",o,{passive:!0}),i&&t.addEventListener("resize",o)}),c&&l?st(c,o):null);let u=-1,h=null;a&&(h=new ResizeObserver(t=>{var[t]=t;t&&t.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{h&&h.observe(e)})),o()}),c&&!s&&h.observe(c),h.observe(e));let p,m=s?W(n):null;return s&&function t(){const e=W(n);!m||e.x===m.x&&e.y===m.y&&e.width===m.width&&e.height===m.height||o();m=e;p=requestAnimationFrame(t)}(),o(),()=>{f.forEach(t=>{r&&t.removeEventListener("scroll",o),i&&t.removeEventListener("resize",o)}),d&&d(),h&&h.disconnect(),h=null,s&&cancelAnimationFrame(p)}}const ft=(t,e,n)=>{var o=new Map,n={platform:lt,...n},o={...n.platform,_c:o};return(async(e,n,t)=>{var{placement:o="bottom",strategy:r="absolute",middleware:t=[],platform:i}=t,a=t.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(n));let s=await i.getElementRects({reference:e,floating:n,strategy:r}),{x:c,y:f}=$(s,o,l),d=o,u={},h=0;for(let t=0;t<a.length;t++){var{name:p,fn:m}=a[t],{x:m,y:g,data:y,reset:v}=await m({x:c,y:f,initialPlacement:o,placement:d,strategy:r,middlewareData:u,rects:s,platform:i,elements:{reference:e,floating:n}});c=null!=m?m:c,f=null!=g?g:f,u={...u,[p]:{...u[p],...y}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(s=!0===v.rects?await i.getElementRects({reference:e,floating:n,strategy:r}):v.rects),{x:c,y:f}=$(s,d,l)),t=-1)}return{x:c,y:f,placement:d,strategy:r,middlewareData:u}})(t,e,{...n,platform:o})};class dt extends t{static options=["content","anchor","placement","strategy","flip","offset","shift","arrow","size","autoPlacement","inline","autoUpdate"];autoPlacement=!0;shift=!0;strategy="absolute";placement="bottom";connected(){if("string"==typeof this.anchor&&(this.anchor=this.getRootNode().querySelector(this.anchor)),this.style.position=this.strategy,!this.getRootNode())throw"Floater needs root to find anchor to position to.";if(!this.anchor)throw"Floater needs anchor to position to.";const e=[];Object.keys(ut).forEach(t=>{this[t]&&e.push(ut[t](!0===this[t]?{}:this[t]))});var t=1e3*Math.max(...o(this,"transition-duration").split(", ").map(t=>parseFloat(t)));this.classList.add("-in"),setTimeout(()=>{this.classList.remove("-in")},t),this.cleanupCallbacks.push(ct(this.anchor,this,()=>{ft(this.anchor,this,{strategy:this.strategy,placement:this.placement,middleware:e}).then(({x:t,y:e,placement:n,middlewareData:o})=>{if(this.style.left=t+"px",this.style.top=e+"px",this.classList.add("-"+n),o.arrow){const{x:t,y:e}=o.arrow;o={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];Object.assign(this.arrow.style,{left:null!=t?t+"px":"",top:null!=e?e+"px":"",right:"",bottom:"",[o]:"-4px"})}})},this.autoUpdate))}remove(){const e=1e3*Math.max(...o(this,"transition-duration").split(", ").map(t=>parseFloat(t)));super.remove(()=>new Promise(t=>{this.classList.add("-out"),setTimeout(()=>{t(),this.classList.remove("-out")},e)}))}}window.customElements.define("komp-floater",dt);const ut={size:function(v){return{name:"size",options:v=void 0===v?{}:v,async fn(t){var{placement:e,rects:n,platform:o,elements:r}=t;const{apply:i=()=>{},...a}=k(v,t);var l=await N(t,a),s=E(e),c=x(e),e="y"===R(e),{width:n,height:f}=n.floating;let d,u;"top"===s||"bottom"===s?(d=s,u=c===(await(null==o.isRTL?void 0:o.isRTL(r.floating))?"start":"end")?"left":"right"):(u=s,d="end"===c?"top":"bottom");var h,s=f-l[d],p=n-l[u],m=!t.middlewareData.shift;let g=s,y=p;e?(h=n-l.left-l.right,y=c||m?b(p,h):h):(p=f-l.top-l.bottom,g=c||m?b(s,p):p),m&&!c&&(h=w(l.left,0),s=w(l.right,0),p=w(l.top,0),m=w(l.bottom,0),e?y=n-2*(0!==h||0!==s?h+s:w(l.left,l.right)):g=f-2*(0!==p||0!==m?p+m:w(l.top,l.bottom))),await i({...t,availableWidth:y,availableHeight:g});c=await o.getDimensions(r.floating);return n!==c.width||f!==c.height?{reset:{rects:!0}}:{}}}},offset:function(o){return{name:"offset",options:o=void 0===o?0:o,async fn(t){var{x:e,y:n}=t,t=await async function(t,e){var{placement:n,platform:o,elements:r}=t,o=await(null==o.isRTL?void 0:o.isRTL(r.floating)),r=E(n),i=x(n),n="y"===R(n),r=["left","top"].includes(r)?-1:1,o=o&&n?-1:1;let{mainAxis:a,crossAxis:l,alignmentAxis:s}="number"==typeof(e=k(e,t))?{mainAxis:e,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...e};return i&&"number"==typeof s&&(l="end"===i?-1*s:s),n?{x:l*o,y:a*r}:{x:a*r,y:l*o}}(t,o);return{x:e+t.x,y:n+t.y,data:t}}}},shift:function(p){return{name:"shift",options:p=void 0===p?{}:p,async fn(t){var{x:e,y:n,placement:o}=t;const{mainAxis:r=!0,crossAxis:i=!1,limiter:a={fn:t=>{var{x:t,y:e}=t;return{x:t,y:e}}},...l}=k(p,t);var s,c={x:e,y:n},f=await N(t,l),o=R(E(o)),d=U(o);let u=c[d],h=c[o];r&&(c=u+f["y"===d?"top":"left"],s=u-f["y"===d?"bottom":"right"],u=v(c,u,s)),i&&(c=h+f["y"===o?"top":"left"],s=h-f["y"===o?"bottom":"right"],h=v(c,h,s));f=a.fn({...t,[d]:u,[o]:h});return{...f,data:{x:f.x-e,y:f.y-n}}}}},autoPlacement:function(g){return{name:"autoPlacement",options:g=void 0===g?{}:g,async fn(t){var{rects:e,middlewareData:n,placement:o,platform:r,elements:i}=t;const{crossAxis:a=!1,alignment:l,allowedPlacements:s=_,autoAlignment:c=!0,...f}=k(g,t);var d,u,h=void 0!==l||s===_?(u=c,h=s,((d=l||null)?[...h.filter(t=>x(t)===d),...h.filter(t=>x(t)!==d)]:h.filter(t=>E(t)===t)).filter(t=>!d||x(t)===d||!!u&&A(t)!==t)):s,t=await N(t,f),p=(null==(p=n.autoPlacement)?void 0:p.index)||0,m=h[p];return null==m?{}:(e=X(m,e,await(null==r.isRTL?void 0:r.isRTL(i.floating))),o!==m?{reset:{placement:h[0]}}:(r=[t[E(m)],t[e[0]],t[e[1]]],t=[...(null==(i=n.autoPlacement)?void 0:i.overflows)||[],{placement:m,overflows:r}],(e=h[p+1])?{data:{index:p+1,overflows:t},reset:{placement:e}}:(m=(null==(i=(n=t.map(t=>{var e=x(t.placement);return[t.placement,e&&a?t.overflows.slice(0,2).reduce((t,e)=>t+e,0):t.overflows[0],t.overflows]}).sort((t,e)=>t[1]-e[1])).filter(t=>t[2].slice(0,x(t[0])?2:3).every(t=>t<=0))[0])?void 0:i[0])||n[0][0])!==o?{data:{index:p+1,overflows:t},reset:{placement:m}}:{}))}}},flip:function(x){return{name:"flip",options:x=void 0===x?{}:x,async fn(t){const{placement:e,middlewareData:n,rects:o,initialPlacement:r,platform:i,elements:a}=t,{mainAxis:l=!0,crossAxis:s=!0,fallbackPlacements:c,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:u=!0,...h}=k(x,t);var p=E(e),m=E(r)===r,g=await(null==i.isRTL?void 0:i.isRTL(a.floating)),m=c||(m||!u?[C(r)]:(y=C(m=r),[A(m),y,A(y)])),y=(c||"none"===d||m.push(...Y(r,u,d,g)),[r,...m]),m=await N(t,h),t=[],v=(null==(b=n.flip)?void 0:b.overflows)||[];if(l&&t.push(m[p]),s&&(b=X(e,o,g),t.push(m[b[0]],m[b[1]])),v=[...v,{placement:e,overflows:t}],!t.every(t=>t<=0)){var b,w,g=((null==(p=n.flip)?void 0:p.index)||0)+1,m=y[g];if(m)return{data:{index:g,overflows:v},reset:{placement:m}};let t=null==(b=v.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:b.placement;if(!t)switch(f){case"bestFit":{const e=null==(w=v.map(t=>[t.placement,t.overflows.filter(t=>0<t).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:w[0];e&&(t=e);break}case"initialPlacement":t=r}if(e!==t)return{reset:{placement:t}}}return{}}}},inline:function(a){return{name:"inline",options:a=void 0===a?{}:a,async fn(t){const{placement:c,elements:e,rects:n,platform:o,strategy:r}=t,{padding:i=2,x:f,y:d}=k(a,t);t=Array.from(await(null==o.getClientRects?void 0:o.getClientRects(e.reference))||[]);const u=function(t){var e=t.slice().sort((t,e)=>t.y-e.y),n=[];let o=null;for(let t=0;t<e.length;t++){var r=e[t];!o||r.y-o.y>o.height/2?n.push([r]):n[n.length-1].push(r),o=r}return n.map(t=>S(J(t)))}(t),h=S(J(t)),p=O(i);t=await o.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=f&&null!=d)return u.find(t=>f>t.left-p.left&&f<t.right+p.right&&d>t.top-p.top&&d<t.bottom+p.bottom)||h;if(2<=u.length){var t,e;if("y"===R(c))return n=u[0],o=u[u.length-1],r="top"===E(c),{top:t=n.top,bottom:i=o.bottom,left:e=(r?n:o).left,right:r=(r?n:o).right,width:r-e,height:i-t,x:e,y:t};const a="left"===E(c),l=w(...u.map(t=>t.right)),s=b(...u.map(t=>t.left));var n=u.filter(t=>a?t.left===s:t.right===l),o=n[0].top,r=n[n.length-1].bottom,i=s;return{top:o,bottom:r,left:i,right:l,width:l-i,height:r-o,x:i,y:o}}return h}},floating:e.floating,strategy:r});return n.reference.x!==t.reference.x||n.reference.y!==t.reference.y||n.reference.width!==t.reference.width||n.reference.height!==t.reference.height?{reset:{rects:t}}:{}}}},arrow:g=>({name:"arrow",options:g,async fn(t){var{x:e,y:n,placement:o,rects:r,platform:i,elements:a}=t,{element:t,padding:l=0}=k(g,t)||{};if(null==t)return{};var l=O(l),e={x:e,y:n},n=T(o),s=L(n),c=await i.getDimensions(t),f="y"===n,d=f?"top":"left",u=f?"bottom":"right",f=f?"clientHeight":"clientWidth",h=r.reference[s]+r.reference[n]-e[n]-r.floating[s],p=e[n]-r.reference[n],t=await(null==i.getOffsetParent?void 0:i.getOffsetParent(t));let m=t?t[f]:0;h=h/2-p/2,p=(m=m&&await(null==i.isElement?void 0:i.isElement(t))?m:a.floating[f]||r.floating[s])/2-c[s]/2-1,i=b(l[d],p),t=b(l[u],p),a=i,f=m-c[s]-t,d=m/2-c[s]/2+h,l=v(a,d,f),u=null!=x(o)&&d!=l&&r.reference[s]/2-(d<a?i:t)-c[s]/2<0?d<a?a-d:f-d:0;return{[n]:e[n]-u,data:{[n]:l,centerOffset:d-l+u}}}})};function ht(t){return t&&t.constructor&&t.call&&t.apply}function pt(t,e,...n){e=t[e];return ht(e)?e.call(t,...n):e}class mt extends t{static options=["data","columns"];_columns=[];static style=`
        komp-data-table {
            display: grid;
        }
        komp-data-table-row {
            display: contents;
        }
    `;constructor(t,...e){super(t,...e),this.columns&&this.initColumns(this.columns),this.data||(this.data=[])}connected(){0==Object.keys(this._columns).length?setTimeout(()=>{var t=s(this.firstElementChild);const e={},o=(Array.from(t.children).forEach(t=>{e[t.innerText]={}}),this.initColumns(e),Object.keys(e));0==this.data.length&&Array.from(this.children).forEach(t=>{const n={};this.data.push(n),Array.from(t.children).forEach((t,e)=>{n[o[e]]=t.innerText})}),this.render()},0):this.render()}render(){this.innerHTML="";const e=[],n=l("komp-data-table-row");return this.append(n),this._columns.forEach(t=>{e.push("1fr"),n.append(l("komp-data-table-cell",{class:"-header",content:pt(t,"header")}))}),this.style.gridTemplateColumns=e.join(" "),this.data.forEach(e=>{const n=l("komp-data-table-row");this.append(n),this._columns.forEach(t=>{n.append(l("komp-data-table-cell",{content:pt(t,"render",e)}))})}),this}initColumns(e){return this._columns=Object.keys(e).map(t=>this.initColumn(t,e[t]))}initColumn(t,e){let n={id:t,render:this.defaultRender(t),header:this.defaultHeader(t)};return ht(e)?n.render=e:Array.isArray(e)?n=Object.assign(n,{render:e[0]},e):"object"==typeof e?n=Object.assign(n,e):n.render=this.defaultRender(t),n}defaultHeader(t){return t}defaultRender(e){return t=>t[e]}}window.customElements.define("komp-data-table",mt);var gt=Object.freeze({__proto__:null,DataTable:mt,Floater:dt,Modal:e});Object.keys(gt).forEach(t=>{window[t]=gt[t]}),document.addEventListener("DOMContentLoaded",function(){var t,e,n,o,r;t=document,e=".js-toggle-source",n="click",o=t=>{document.querySelector(t.delegateTarget.getAttribute("rel")).classList.toggle("hide")},r={},t.addEventListener(n,t=>{t.target.matches(e)?(t.delegateTarget=t.target,o(t)):t.target.closest(e)&&(t.delegateTarget=t.target.closest(e),o(t))},r)})}();
!function(){"use strict";const a=["accept","accept-charset","accesskey","action","align","allow","alt","async","autocapitalize","autocomplete","autofocus","autoplay","background","bgcolor","border","buffered","capture","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","csp","data","data-*","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","referrerpolicy","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","translate","type","usemap","value","width","wrap","aria","aria-*"],c=["disabled","readonly","multiple","checked","autobuffer","autoplay","controls","loop","selected","hidden","scoped","async","defer","reversed","ismap","seemless","muted","required","autofocus","novalidate","formnovalidate","open","pubdate","itemscope"];function l(t){return t instanceof NodeList||t instanceof Array||t instanceof HTMLCollection?(t=Array.from(t)).forEach(l):t.parentNode.removeChild(t),t}function f(e,t,o,n,s){if(s=s||"append",Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection)Array.from(t).forEach(t=>f(e,t,o,n));else{if(!(o instanceof Element)){var r;if("boolean"!=typeof o&&(n=o,o=void 0),t instanceof Promise){const i=document.createElement("span");return e[s](i),(new Date).getMilliseconds(),t.then(t=>{f(i,t,o,n),function t(e,o){if(Array.isArray(o)||o instanceof NodeList||o instanceof HTMLCollection){for(var n=Array.from(o);0<n.length;)e=t(e,n.pop());return e}if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)return t(e[0],o);if(e.parentNode)return o instanceof Node||(o=new Text(o)),e.parentNode.insertBefore(o,e),o;throw"argument of insertBefore unsupported"}(i,i.childNodes),l(i)})}return t instanceof Element||t instanceof Node?e[s](t):null!=t?"function"==typeof t?f(e,t.bind(n)(e),o,n):"object"==typeof t?e[s](function(t="div",n={}){"object"==typeof t&&(t=(n=t).tag||"div");const s=document.createElement(t);return Object.keys(n).forEach(e=>{if(0!=a.filter(t=>e.match(new RegExp(t))).length||"children"==e){const o=n[e];if(c.includes(e))return!1!==o?s[e]=!0:void 0;switch(e){case"tag":return;case"value":return s.value=o;case"data":if("object"==typeof o)return Object.keys(o).forEach(t=>{s.dataset[t]="object"==typeof o[t]?JSON.stringify(o[t]):o[t]});break;case"style":if("object"==typeof o)return Object.keys(o).forEach(t=>{s.style[t]=o[t]});break;case"content":case"children":return void f(s,o)}s.setAttribute(e,o)}}),s}(t)):o?e[s](t):((r=document.createElement("div")).innerHTML=t,e[s](...r.childNodes)):void 0}Array.from(arguments).slice(1).filter(t=>t instanceof Element).forEach(t=>f(e,t))}}function s(t,e){t=function(t){let e=(t=Array.isArray(t[0])&&1==t.length?t[0]:t)[0].getBoundingClientRect();return e={left:e.left,top:e.top,right:e.right,bottom:e.bottom},t.slice(1).forEach(t=>{t=t.getBoundingClientRect();t.left<e.left&&(e.left=t.left),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)}),new DOMRect(e.left,e.top,e.right-e.left,e.bottom-e.top)}([t]),e=e.getBoundingClientRect();return{top:t.top-e.top,left:t.left-e.left,right:t.right-e.left,bottom:t.bottom-e.top}}function r(t){var e=getComputedStyle(t);return t.offsetHeight+parseInt(e.marginTop)+parseInt(e.marginBottom)}function i(t){var e=getComputedStyle(t);return t.offsetWidth+parseInt(e.marginLeft)+parseInt(e.marginRight)}class t extends HTMLElement{static defaults={};static style="";constructor(t={}){super(),this.inititalAttributes=t;t=new CSSStyleSheet;t.replaceSync(this.constructor.style),this.body=this.attachShadow({mode:"open"}),this.body.adoptedStyleSheets=[t]}connected(){}connectedCallback(){Object.keys(this.constructor.defaults).forEach(t=>{var e=this.inititalAttributes[t]||this.getAttribute(t)||this.dataset[t]||this.constructor.defaults[t];"content"==t?f(this.body,e):this[t]=e}),this.connected()}}customElements.define("komp-popover",class extends t{static defaults={content:null,anchor:null,align:"center bottom",offset:{}};connectedCallback(){this.inititalAttributes.content||this.getAttribute("content")||(this.inititalAttributes.content=this.innerHTML),"string"==typeof this.offset&&(this.offset.includes("{")?this.offset=JSON.parse(this.offset):this.offset={left:parseInt(this.offset),top:parseInt(this.offset)}),super.connectedCallback()}connected(){var t;"string"==typeof this.anchor&&(t=this.getRootNode()||document.body,this.anchor=t.querySelector(this.anchor))}setPosition(){var[t,e]=this.align.split(" "),t=t||"bottom";let o={left:0,top:0};this.anchor.offsetParent!=this.offsetParent&&(o=s(this.anchor,this));var n={};if("left"==t?n.right=i(this.offsetParent)-o.left:"center"==t?(n.left=o.left+i(this.anchor)/2,n.transform="translateX(-50%)"):"right"==t?n.left=o.left+i(this.anchor):t.includes("px")&&(n.left=o.left+parseInt(t)),"top"==e){let t=r(this.offsetParent);this.offsetParent==document.body&&"static"==getComputedStyle(this.offsetParent).position?t=window.innerHeight:this.offsetParent==document.body&&(t=Math.max(t,document.body.clientHeight)),n.bottom=t-o.top}else"center"==e?(n.top=o.top+r(this.anchor)/2,n.transform="translateY(-50%)"):"bottom"==e?n.top=o.top+r(this.anchor):e.includes("px")&&(n.top=o.top+parseInt(e));this.offset.left&&(n.left+=parseInt(this.offset.left)),this.offset.left&&(n.right-=parseInt(this.offset.left)),this.offset.top&&(n.top+=parseInt(this.offset.top)),this.offset.top&&(n.bottom-=parseInt(this.offset.top)),this.style.left=null,this.style.right=null,this.style.top=null,this.style.bottom=null,this.style.transform=null,Object.keys(n).forEach(function(t){this.style[t]=n[t]+("transform"!=t?"px":"")},this)}}),document.addEventListener("DOMContentLoaded",function(){var t,e,o,n,s;t=document,e=".js-toggle-source",o="click",n=t=>{document.querySelector(t.delegateTarget.getAttribute("rel")).classList.toggle("hide")},s={},t.addEventListener(o,t=>{t.target.matches(e)?(t.delegateTarget=t.target,n(t)):t.target.closest(e)&&(t.delegateTarget=t.target.closest(e),n(t))},s)})}();
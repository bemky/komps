!function(){"use strict";const o=["accept","accept-charset","accesskey","action","align","allow","alt","async","autocapitalize","autocomplete","autofocus","autoplay","background","bgcolor","border","buffered","capture","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","csp","data","data-*","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","referrerpolicy","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","translate","type","usemap","value","width","wrap","aria","aria-*"],B=["disabled","readOnly","multiple","checked","autobuffer","autoplay","controls","loop","selected","hidden","scoped","async","defer","reversed","isMap","seemless","muted","required","autofocus","noValidate","formNoValidate","open","pubdate","itemscope"];function n(i,r={}){Object.keys(r).forEach(e=>{if(0!=o.filter(t=>e.match(new RegExp(t))).length||"children"==e){const n=r[e];var t=B.find(t=>t.toUpperCase()==e.toUpperCase());if(t)return!1!==n?i[t]=!0:void 0;switch(e){case"tag":return;case"value":return i.value=n;case"data":if("object"==typeof n)return Object.keys(n).forEach(t=>{i.dataset[t]="object"==typeof n[t]?JSON.stringify(n[t]):n[t]});break;case"style":if("object"==typeof n)return Object.keys(n).forEach(t=>{i.style[t]=n[t]});break;case"content":case"children":return void c(i,n)}i.setAttribute(e,n)}})}function s(t="div",e={}){"object"==typeof t&&(t=(e=t).tag||"div");t=document.createElement(t);return n(t,e),t}function l(t){return t instanceof NodeList||t instanceof Array||t instanceof HTMLCollection?(t=Array.from(t)).forEach(l):t.parentNode.removeChild(t),t}function c(e,t,n,i,r){if(r=r||"append",Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection)Array.from(t).forEach(t=>c(e,t,n,i));else if(n instanceof Element)Array.from(arguments).slice(1).filter(t=>t instanceof Element).forEach(t=>c(e,t));else if("boolean"!=typeof n&&(i=n,n=void 0),null!=t){var o;if(t instanceof Promise||t.then){const a=document.createElement("span");return e[r](a),(new Date).getMilliseconds(),t.then(t=>{c(a,t,n,i),function t(e,n){if(Array.isArray(n)||n instanceof NodeList||n instanceof HTMLCollection){for(var i=Array.from(n);0<i.length;)e=t(e,i.pop());return e}if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)return t(e[0],n);if(e.parentNode)return n instanceof Node||(n=new Text(n)),e.parentNode.insertBefore(n,e),n;throw"argument of insertBefore unsupported"}(a,a.childNodes),l(a)})}return t instanceof Element||t instanceof Node?e[r](t):"function"==typeof t?c(e,t.bind(i)(e),n,i):"object"==typeof t?e[r](s(t)):n?e[r](t):((o=document.createElement("div")).innerHTML=t,e[r](...o.childNodes))}}function i(t,e){return getComputedStyle(t)[e]}function r(t){return t&&t.constructor&&t.call&&t.apply}function W(t,e,...n){e=t[e];return r(e)?e.call(t,...n):e}function V(t,e){let n=[];return function t(e,n){n(e);e=Object.getPrototypeOf(e);e&&t(e,n)}(t,t=>{n.push(t[e])}),n}class t extends HTMLElement{static assignableAttributes=[];static style="";static watch=[];static get observedAttributes(){return this.watch}_assignableAttributes={};_attributes={};_cleanupCallbacks=[];is_instantiated=!1;constructor(t={}){super(),V(this.constructor,"assignableAttributes").filter(t=>t).reverse().forEach(t=>{Array.isArray(t)?t.forEach(t=>{this._assignableAttributes[t]=this._assignableAttributes[t]||null}):Object.assign(this._assignableAttributes,t)}),Object.keys(this._assignableAttributes).forEach(n=>{Object.defineProperty(this,n,{configurable:!0,enumerable:!0,get:()=>this._attributes[n],set:t=>{var e=this._attributes[n];t!=e&&(this._attributes[n]=t,this.attributeChangedCallback(n,e,t))}}),t.hasOwnProperty(n)?(this._attributes[n]=t[n],delete t[n]):this._attributes[n]=this._assignableAttributes[n]}),n(this,t)}instantiate(){return Object.keys(this._assignableAttributes).forEach(t=>{var e,n,i=this.getAttribute(t)||this.dataset[t]||this[t];"content"==t&&i?(this.removeAttribute("content"),n=i,(e=this).innerHTML="",c(e,n)):null!==i&&(this[t]=i)}),this.is_instantiated=!0}connected(){}connectedCallback(){this.trigger("beforeConnect"),this.appendStyle(),!this.is_instantiated&&!1===this.instantiate()||(this.connected(),this.trigger("afterConnect"))}disconnected(){}disconnectedCallback(){this.trigger("beforeDisconnect"),this._cleanupCallbacks.forEach(t=>t()),this._cleanupCallbacks=[],this.disconnected(),this.trigger("afterDisconnect")}changed(t,e,n){}attributeChangedCallback(t,...e){return this[t+"Changed"]&&this[t+"Changed"](...e),this.changed(t,...e)}appendStyle(){if(this.constructor.style){var t=this.getRootNode();const i=this.tagName.toLowerCase();if(t&&t.adoptedStyleSheets&&!t.adoptedStyleSheets.find(t=>t.id==i)){var n=new CSSStyleSheet;let e="";V(this.constructor,"style").forEach(t=>{e+=r(t)?t.bind(this.constructor)():t}),n.replaceSync(e),n.id=i,t.adoptedStyleSheets.push(n)}}}async remove(t){return this.trigger("beforeRemove"),t&&await t(),l(this),this.trigger("afterRemove"),this}addEventListenerFor(...t){this._cleanupCallbacks.push(()=>{t[0].removeEventListener(...t.slice(1))}),t[0].addEventListener(...t.slice(1))}trigger(...t){var e,n;[t,e]=[this,...t],(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!1),t.dispatchEvent(n)}}class e extends t{static style=`
        komp-modal-backdrop {
            position: fixed;
            inset: 0;
            overflow: scroll;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0, 0.6);
            backdrop-filter: blur(4px); // Not supported for dialog::backdrop as of 2023-09-13
        }
        komp-modal-container {
            display: flex;
            justify-content: center;
            align-items: stretch;
            padding: 2em;
        }
        komp-modal-close {
            width: 0;
            position: relative;
            background: red;
        }
        komp-modal-close button {
            position: absolute;
            bottom: 100%;
            left: 0;
            padding: 0.25em;
            outline: none;
            appearance: none;
            border: none;
            background:none;
            padding: 0;
            margin: 0;
            list-style:none;
            text-decoration: none;
            color: white;
            cursor: pointer;
            opacity: 0.75;
        }
        komp-modal-close button:hover {
            opacity: 1;
        }
    `;connected(){var t;"KOMP-MODAL-CONTAINER"!=this.parentElement.tagName&&(t=s("komp-modal-container"),this.backdrop=s("komp-modal-backdrop",{content:t}),this.backdrop.addEventListener("click",t=>{t.target==this.backdrop&&this.remove()}),this.replaceWith(this.backdrop),t.append(this),t.append(s("komp-modal-close",{content:function(t){let e=t.pop(),n=t.pop();"string"==typeof n||Array.isArray(n)||(t=t.concat(n),n="click"),"string"!=typeof t[0]&&t.unshift("button");const i=s(...t);return(n=Array.isArray(n)?n:[n]).forEach(t=>i.addEventListener(t,e)),i}([{content:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'},t=>{this.remove()}])}))),this.getRootNode().body.style.overflow="hidden"}remove(){super.remove(()=>{this.getRootNode().body.style.overflow="",l(this.backdrop)})}}window.customElements.define("komp-modal",e);const q=["start","end"],I=["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-"+q[0],e+"-"+q[1]),[]),b=Math.min,w=Math.max,a=Math.round,p=Math.floor,y=t=>({x:t,y:t}),U={left:"right",right:"left",bottom:"top",top:"bottom"},$={start:"end",end:"start"};function v(t,e,n){return w(t,b(e,n))}function E(t,e){return"function"==typeof t?t(e):t}function k(t){return t.split("-")[0]}function x(t){return t.split("-")[1]}function X(t){return"x"===t?"y":"x"}function L(t){return"y"===t?"height":"width"}function T(t){return["top","bottom"].includes(k(t))?"y":"x"}function A(t){return X(T(t))}function Y(t,e,n){void 0===n&&(n=!1);var i=x(t),t=A(t),r=L(t);let o="x"===t?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return[o=e.reference[r]>e.floating[r]?C(o):o,C(o)]}function R(t){return t.replace(/start|end/g,t=>$[t])}function J(t,e,n,i){const r=x(t);let o=function(t,e,n){var i=["left","right"],r=["right","left"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(k(t),"start"===n,i);return o=r&&(o=o.map(t=>t+"-"+r),e)?o.concat(o.map(R)):o}function C(t){return t.replace(/left|right|bottom|top/g,t=>U[t])}function _(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function O(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function K(t,e,n){var{reference:i,floating:r}=t,t=T(e),o=A(e),a=L(o),s=k(e),l="y"===t,c=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,d=i[a]/2-r[a]/2;let f;switch(s){case"top":f={x:c,y:i.y-r.height};break;case"bottom":f={x:c,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-r.width,y:h};break;default:f={x:i.x,y:i.y}}switch(x(e)){case"start":f[o]-=d*(n&&l?-1:1);break;case"end":f[o]+=d*(n&&l?-1:1)}return f}async function N(t,e){var{x:n,y:i,platform:r,rects:o,elements:a,strategy:s}=t,{boundary:e="clippingAncestors",rootBoundary:t="viewport",elementContext:l="floating",altBoundary:c=!1,padding:h=0}=E(e=void 0===e?{}:e,t),h=_(h),c=a[c?"floating"===l?"reference":"floating":l],d=O(await r.getClippingRect({element:null==(d=await(null==r.isElement?void 0:r.isElement(c)))||d?c:c.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:e,rootBoundary:t,strategy:s})),c="floating"===l?{...o.floating,x:n,y:i}:o.reference,e=await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),t=await(null==r.isElement?void 0:r.isElement(e))&&await(null==r.getScale?void 0:r.getScale(e))||{x:1,y:1},l=O(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c,offsetParent:e,strategy:s}):c);return{top:(d.top-l.top+h.top)/t.y,bottom:(l.bottom-d.bottom+h.bottom)/t.y,left:(d.left-l.left+h.left)/t.x,right:(l.right-d.right+h.right)/t.x}}const G=g=>({name:"arrow",options:g,async fn(t){var{x:e,y:n,placement:i,rects:r,platform:o,elements:a}=t,{element:t,padding:s=0}=E(g,t)||{};if(null==t)return{};var s=_(s),e={x:e,y:n},n=A(i),l=L(n),c=await o.getDimensions(t),h="y"===n,d=h?"top":"left",f=h?"bottom":"right",h=h?"clientHeight":"clientWidth",u=r.reference[l]+r.reference[n]-e[n]-r.floating[l],p=e[n]-r.reference[n],t=await(null==o.getOffsetParent?void 0:o.getOffsetParent(t));let m=t?t[h]:0;u=u/2-p/2,p=(m=m&&await(null==o.isElement?void 0:o.isElement(t))?m:a.floating[h]||r.floating[l])/2-c[l]/2-1,o=b(s[d],p),t=b(s[f],p),a=o,h=m-c[l]-t,d=m/2-c[l]/2+u,s=v(a,d,h),f=null!=x(i)&&d!=s&&r.reference[l]/2-(d<a?o:t)-c[l]/2<0?d<a?a-d:h-d:0;return{[n]:e[n]-f,data:{[n]:s,centerOffset:d-s+f}}}});function Q(t){var e=b(...t.map(t=>t.left)),n=b(...t.map(t=>t.top));return{x:e,y:n,width:w(...t.map(t=>t.right))-e,height:w(...t.map(t=>t.bottom))-n}}function h(t){return Z(t)?(t.nodeName||"").toLowerCase():"#document"}function S(t){return(null==t||null==(t=t.ownerDocument)?void 0:t.defaultView)||window}function m(t){return null==(t=(Z(t)?t.ownerDocument:t.document)||window.document)?void 0:t.documentElement}function Z(t){return t instanceof Node||t instanceof S(t).Node}function P(t){return t instanceof Element||t instanceof S(t).Element}function d(t){return t instanceof HTMLElement||t instanceof S(t).HTMLElement}function tt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof S(t).ShadowRoot)}function f(t){var{overflow:t,overflowX:e,overflowY:n,display:i}=H(t);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(i)}function u(t){var e=et();const n=H(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(t=>(n.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(n.contain||"").includes(t))}function et(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(t){return["html","body","#document"].includes(h(t))}function H(t){return S(t).getComputedStyle(t)}function M(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(t){return"html"!==h(t)&&(t=t.assignedSlot||t.parentNode||tt(t)&&t.host||m(t),tt(t))?t.host:t}function D(t,e){void 0===e&&(e=[]);var n=function t(e){var n=j(e);return g(n)?(e.ownerDocument||e).body:d(n)&&f(n)?n:t(n)}(t),t=n===(null==(t=t.ownerDocument)?void 0:t.body),i=S(n);return t?e.concat(i,i.visualViewport||[],f(n)?n:[],i.frameElement?D(i.frameElement):[]):e.concat(n,D(n))}function nt(t){var e=H(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;var e=d(t),r=e?t.offsetWidth:n,e=e?t.offsetHeight:i,t=a(n)!==r||a(i)!==e;return t&&(n=r,i=e),{width:n,height:i,$:t}}function it(t){return P(t)?t:t.contextElement}function F(t){t=it(t);if(!d(t))return y(1);var e=t.getBoundingClientRect(),{width:t,height:n,$:i}=nt(t);let r=(i?a(e.width):e.width)/t,o=(i?a(e.height):e.height)/n;return r&&Number.isFinite(r)||(r=1),o&&Number.isFinite(o)||(o=1),{x:r,y:o}}const rt=y(0);function ot(t){t=S(t);return et()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:rt}function z(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),o=it(t);let a=y(1);e&&(i?P(i)&&(a=F(i)):a=F(t));e=o,void 0===(t=n)&&(t=!1);n=!(n=i)||t&&n!==S(e)||!t?y(0):ot(o);let s=(r.left+n.x)/a.x,l=(r.top+n.y)/a.y,c=r.width/a.x,h=r.height/a.y;if(o){var d=S(o),f=i&&P(i)?S(i):i;let t=d.frameElement;for(;t&&i&&f!==d;){var u=F(t),p=t.getBoundingClientRect(),m=H(t),g=p.left+(t.clientLeft+parseFloat(m.paddingLeft))*u.x,p=p.top+(t.clientTop+parseFloat(m.paddingTop))*u.y;s*=u.x,l*=u.y,c*=u.x,h*=u.y,s+=g,l+=p,t=S(t).frameElement}}return O({width:c,height:h,x:s,y:l})}function at(t){return z(m(t)).left+M(t).scrollLeft}function st(t,e,n){let i;var r,o,a;return O(i="viewport"===e?function(t,e){var n=S(t),t=m(t),n=n.visualViewport;let i=t.clientWidth,r=t.clientHeight,o=0,a=0;return n&&(i=n.width,r=n.height,et()&&"fixed"!==e||(o=n.offsetLeft,a=n.offsetTop)),{width:i,height:r,x:o,y:a}}(t,n):"document"===e?function(t){var e=m(t),n=M(t),i=t.ownerDocument.body,r=w(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=w(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+at(t);return t=-n.scrollTop,"rtl"===H(i).direction&&(a+=w(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:a,y:t}}(m(t)):P(e)?(o=(n=z(r=e,!0,"fixed"===(n=n))).top+r.clientTop,n=n.left+r.clientLeft,a=d(r)?F(r):y(1),{width:r.clientWidth*a.x,height:r.clientHeight*a.y,x:n*a.x,y:o*a.y}):(r=ot(t),{...e,x:e.x-r.x,y:e.y-r.y}))}function lt(t,e){var n=e.get(t);if(n)return n;let i=D(t).filter(t=>P(t)&&"body"!==h(t)),r=null;var o="fixed"===H(t).position;let a=o?j(t):t;for(;P(a)&&!g(a);){var s=H(a),l=u(a),l=(l||"fixed"!==s.position||(r=null),o?!l&&!r:!l&&"static"===s.position&&!!r&&["absolute","fixed"].includes(r.position)||f(a)&&!l&&function t(e,n){e=j(e);return!(e===n||!P(e)||g(e))&&("fixed"===H(e).position||t(e,n))}(t,a));l?i=i.filter(t=>t!==a):r=s,a=j(a)}return e.set(t,i),i}function ct(t,e){return d(t)&&"fixed"!==H(t).position?e?e(t):t.offsetParent:null}function ht(t,e){var n,i=S(t);if(!d(t))return i;let r=ct(t,e);for(;r&&(n=r,["table","td","th"].includes(h(n)))&&"static"===H(r).position;)r=ct(r,e);return(!r||"html"!==h(r)&&("body"!==h(r)||"static"!==H(r).position||u(r)))&&(r||function(t){let e=j(t);for(;d(e)&&!g(e);){if(u(e))return e;e=j(e)}return null}(t))||i}const dt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var{rect:t,offsetParent:e,strategy:n}=t,i=d(e),r=m(e);if(e===r)return t;let o={scrollLeft:0,scrollTop:0},a=y(1);var s=y(0);return(i||!i&&"fixed"!==n)&&("body"===h(e)&&!f(r)||(o=M(e)),d(e))&&(i=z(e),a=F(e),s.x=i.x+e.clientLeft,s.y=i.y+e.clientTop),{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-o.scrollLeft*a.x+s.x,y:t.y*a.y-o.scrollTop*a.y+s.y}},getDocumentElement:m,getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:i,strategy:r}=t;var o=(t=[..."clippingAncestors"===e?lt(n,this._c):[].concat(e),i])[0];return{width:(t=t.reduce((t,e)=>{e=st(n,e,r);return t.top=w(e.top,t.top),t.right=b(e.right,t.right),t.bottom=b(e.bottom,t.bottom),t.left=w(e.left,t.left),t},st(n,o,r))).right-t.left,height:t.bottom-t.top,x:t.left,y:t.top}},getOffsetParent:ht,getElementRects:async function(t){var{reference:t,floating:e,strategy:n}=t,i=this.getOffsetParent||ht,r=this.getDimensions;return{reference:function(t,e,n){var i=d(e),r=m(e),t=z(t,!0,n="fixed"===n,e);let o={scrollLeft:0,scrollTop:0};var a=y(0);return!i&&n||("body"===h(e)&&!f(r)||(o=M(e)),i?(i=z(e,!0,n,e),a.x=i.x+e.clientLeft,a.y=i.y+e.clientTop):r&&(a.x=at(r))),{x:t.left+o.scrollLeft-a.x,y:t.top+o.scrollTop-a.y,width:t.width,height:t.height}}(t,await i(e),n),floating:{x:0,y:0,...await r(e)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:nt,getScale:F,isElement:P,isRTL:function(t){return"rtl"===H(t).direction}};function ft(c,e){let h=null,d;const f=m(c);function u(){clearTimeout(d),h&&h.disconnect(),h=null}return function n(i,r){void 0===i&&(i=!1),void 0===r&&(r=1),u();var{left:t,top:o,width:a,height:s}=c.getBoundingClientRect();if(i||e(),a&&s){i={rootMargin:-p(o)+"px "+-p(f.clientWidth-(t+a))+"px "+-p(f.clientHeight-(o+s))+"px "+-p(t)+"px",threshold:w(0,b(1,r))||1};let e=!0;try{h=new IntersectionObserver(l,{...i,root:f.ownerDocument})}catch(t){h=new IntersectionObserver(l,i)}function l(t){if((t=t[0].intersectionRatio)!==r){if(!e)return n();t?n(!1,t):d=setTimeout(()=>{n(!1,1e-7)},100)}e=!1}h.observe(c)}}(!0),u}function ut(n,e,i,t){void 0===t&&(t={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=t,c=it(n),h=r||o?[...c?D(c):[],...D(e)]:[],d=(h.forEach(t=>{r&&t.addEventListener("scroll",i,{passive:!0}),o&&t.addEventListener("resize",i)}),c&&s?ft(c,i):null);let f=-1,u=null;a&&(u=new ResizeObserver(t=>{var[t]=t;t&&t.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{u&&u.observe(e)})),i()}),c&&!l&&u.observe(c),u.observe(e));let p,m=l?z(n):null;return l&&function t(){const e=z(n);!m||e.x===m.x&&e.y===m.y&&e.width===m.width&&e.height===m.height||i();m=e;p=requestAnimationFrame(t)}(),i(),()=>{h.forEach(t=>{r&&t.removeEventListener("scroll",i),o&&t.removeEventListener("resize",i)}),d&&d(),u&&u.disconnect(),u=null,l&&cancelAnimationFrame(p)}}const pt=(t,e,n)=>{var i=new Map,n={platform:dt,...n},i={...n.platform,_c:i};return(async(e,n,t)=>{var{placement:i="bottom",strategy:r="absolute",middleware:t=[],platform:o}=t,a=t.filter(Boolean),s=await(null==o.isRTL?void 0:o.isRTL(n));let l=await o.getElementRects({reference:e,floating:n,strategy:r}),{x:c,y:h}=K(l,i,s),d=i,f={},u=0;for(let t=0;t<a.length;t++){var{name:p,fn:m}=a[t],{x:m,y:g,data:y,reset:v}=await m({x:c,y:h,initialPlacement:i,placement:d,strategy:r,middlewareData:f,rects:l,platform:o,elements:{reference:e,floating:n}});c=null!=m?m:c,h=null!=g?g:h,f={...f,[p]:{...f[p],...y}},v&&u<=50&&(u++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(l=!0===v.rects?await o.getElementRects({reference:e,floating:n,strategy:r}):v.rects),{x:c,y:h}=K(l,d,s)),t=-1)}return{x:c,y:h,placement:d,strategy:r,middlewareData:f}})(t,e,{...n,platform:i})};class mt extends t{static tagName="komp-floater";static assignableAttributes={content:null,anchor:null,placement:void 0,strategy:"absolute",flip:null,offset:null,shift:!0,arrow:null,autoPlacement:!0,inline:null,autoUpdate:{}};static style=`
        .komp-floater-arrow {
            --arrow-size: 0.5em;
            --arrow-left: 0;
            --arrow-top: 0;
        }
        .komp-floater-arrow:after{
            content: '';
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            z-index: 1;
            position:absolute;
            top: calc(var(--arrow-top) - var(--arrow-size));
            left: calc(var(--arrow-left) - var(--arrow-size));
            width: calc(var(--arrow-size) * 2);
            height: var(--arrow-size);
            overflow: hidden;
            border-style: solid;
            border-width: inherit;
            box-shadow: inherit;
            background: inherit;
            border: inherit;
        }
        .komp-floater-arrow.-top:after{
            top: 100%;
        }
        .komp-floater-arrow.-bottom:after{
            top: auto;
            bottom: 100%;
            transform: rotate(180deg);
        }
        .komp-floater-arrow.-left:after,
        .komp-floater-arrow.-right:after {
            clip-path: polygon(0 0, 100% 50%, 0 100%);
            width: var(--arrow-size);
            height: calc(var(--arrow-size) * 2);
        }
        .komp-floater-arrow.-left:after{
            left: 100%;
        }
        .komp-floater-arrow.-right:after{
            left: auto;
            right: 100%;
            transform: rotate(180deg);
        }
        komp-floater-arrow-locator {
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height 0;
        }
    `;instantiate(){super.instantiate(),"string"==typeof this.anchor&&(this.anchor=this.getRootNode().querySelector(this.anchor))}connected(){if(this.style.position=this.strategy,!this.anchor)throw"Floater needs anchor to position to.";const e=[];Object.keys(gt).forEach(t=>{if(this[t])if("arrow"==t){let t=this.querySelector("komp-floater-arrow-locator");t||(t=s("komp-floater-arrow-locator"),this.prepend(t)),e.push(G({element:t})),this.classList.add("komp-floater-arrow"),"number"==typeof this.arrow&&this.style.setProperty("--arrow-size",this.arrow+"px"),this.offset||(this.offset=!0===this.arrow?10:this.arrow)}else e.push(gt[t](!0===this[t]?{}:this[t]))}),this._cleanupCallbacks.push(ut(this.anchor,this,()=>{pt(this.anchor,this,{strategy:this.strategy,placement:this.placement,middleware:e}).then(({x:t,y:e,placement:n,middlewareData:i})=>{if(this.style.left=t+"px",this.style.top=e+"px",this.classList.remove("-top","-left","-bottom","-right"),this.classList.add("-"+n),i.arrow){const{x:t,y:e}=i.arrow;null!=t&&this.style.setProperty("--arrow-left",t+"px"),null!=e&&this.style.setProperty("--arrow-top",e+"px")}})},this.autoUpdate)),this.classList.add("-in","-in-start");var t=1e3*Math.max(...i(this,"transition-duration").split(", ").map(t=>parseFloat(t)));setTimeout(()=>{this.classList.remove("-in-start")},0),setTimeout(()=>{this.classList.remove("-in")},t)}remove(n){super.remove(()=>new Promise(t=>{this.classList.add("-out","-out-start");var e=1e3*Math.max(...i(this,"transition-duration").split(", ").map(t=>parseFloat(t)));setTimeout(()=>{this.classList.remove("-out-start")},0),setTimeout(()=>{t(),n&&n(),this.classList.remove("-out")},e)}))}}window.customElements.define("komp-floater",mt);const gt={size:function(v){return{name:"size",options:v=void 0===v?{}:v,async fn(t){var{placement:e,rects:n,platform:i,elements:r}=t;const{apply:o=()=>{},...a}=E(v,t);var s=await N(t,a),l=k(e),c=x(e),e="y"===T(e),{width:n,height:h}=n.floating;let d,f;"top"===l||"bottom"===l?(d=l,f=c===(await(null==i.isRTL?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(f=l,d="end"===c?"top":"bottom");var u,l=h-s[d],p=n-s[f],m=!t.middlewareData.shift;let g=l,y=p;e?(u=n-s.left-s.right,y=c||m?b(p,u):u):(p=h-s.top-s.bottom,g=c||m?b(l,p):p),m&&!c&&(u=w(s.left,0),l=w(s.right,0),p=w(s.top,0),m=w(s.bottom,0),e?y=n-2*(0!==u||0!==l?u+l:w(s.left,s.right)):g=h-2*(0!==p||0!==m?p+m:w(s.top,s.bottom))),await o({...t,availableWidth:y,availableHeight:g});c=await i.getDimensions(r.floating);return n!==c.width||h!==c.height?{reset:{rects:!0}}:{}}}},shift:function(p){return{name:"shift",options:p=void 0===p?{}:p,async fn(t){var{x:e,y:n,placement:i}=t;const{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:t=>{var{x:t,y:e}=t;return{x:t,y:e}}},...s}=E(p,t);var l,c={x:e,y:n},h=await N(t,s),i=T(k(i)),d=X(i);let f=c[d],u=c[i];r&&(c=f+h["y"===d?"top":"left"],l=f-h["y"===d?"bottom":"right"],f=v(c,f,l)),o&&(c=u+h["y"===i?"top":"left"],l=u-h["y"===i?"bottom":"right"],u=v(c,u,l));h=a.fn({...t,[d]:f,[i]:u});return{...h,data:{x:h.x-e,y:h.y-n}}}}},autoPlacement:function(g){return{name:"autoPlacement",options:g=void 0===g?{}:g,async fn(t){var{rects:e,middlewareData:n,placement:i,platform:r,elements:o}=t;const{crossAxis:a=!1,alignment:s,allowedPlacements:l=I,autoAlignment:c=!0,...h}=E(g,t);var d,f,u=void 0!==s||l===I?(f=c,u=l,((d=s||null)?[...u.filter(t=>x(t)===d),...u.filter(t=>x(t)!==d)]:u.filter(t=>k(t)===t)).filter(t=>!d||x(t)===d||!!f&&R(t)!==t)):l,t=await N(t,h),p=(null==(p=n.autoPlacement)?void 0:p.index)||0,m=u[p];return null==m?{}:(e=Y(m,e,await(null==r.isRTL?void 0:r.isRTL(o.floating))),i!==m?{reset:{placement:u[0]}}:(r=[t[k(m)],t[e[0]],t[e[1]]],t=[...(null==(o=n.autoPlacement)?void 0:o.overflows)||[],{placement:m,overflows:r}],(e=u[p+1])?{data:{index:p+1,overflows:t},reset:{placement:e}}:(m=(null==(o=(n=t.map(t=>{var e=x(t.placement);return[t.placement,e&&a?t.overflows.slice(0,2).reduce((t,e)=>t+e,0):t.overflows[0],t.overflows]}).sort((t,e)=>t[1]-e[1])).filter(t=>t[2].slice(0,x(t[0])?2:3).every(t=>t<=0))[0])?void 0:o[0])||n[0][0])!==i?{data:{index:p+1,overflows:t},reset:{placement:m}}:{}))}}},flip:function(x){return{name:"flip",options:x=void 0===x?{}:x,async fn(t){const{placement:e,middlewareData:n,rects:i,initialPlacement:r,platform:o,elements:a}=t,{mainAxis:s=!0,crossAxis:l=!0,fallbackPlacements:c,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:f=!0,...u}=E(x,t);var p=k(e),m=k(r)===r,g=await(null==o.isRTL?void 0:o.isRTL(a.floating)),m=c||(m||!f?[C(r)]:(y=C(m=r),[R(m),y,R(y)])),y=(c||"none"===d||m.push(...J(r,f,d,g)),[r,...m]),m=await N(t,u),t=[],v=(null==(b=n.flip)?void 0:b.overflows)||[];if(s&&t.push(m[p]),l&&(b=Y(e,i,g),t.push(m[b[0]],m[b[1]])),v=[...v,{placement:e,overflows:t}],!t.every(t=>t<=0)){var b,w,g=((null==(p=n.flip)?void 0:p.index)||0)+1,m=y[g];if(m)return{data:{index:g,overflows:v},reset:{placement:m}};let t=null==(b=v.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:b.placement;if(!t)switch(h){case"bestFit":{const e=null==(w=v.map(t=>[t.placement,t.overflows.filter(t=>0<t).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:w[0];e&&(t=e);break}case"initialPlacement":t=r}if(e!==t)return{reset:{placement:t}}}return{}}}},inline:function(a){return{name:"inline",options:a=void 0===a?{}:a,async fn(t){const{placement:c,elements:e,rects:n,platform:i,strategy:r}=t,{padding:o=2,x:h,y:d}=E(a,t);t=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(e.reference))||[]);const f=function(t){var e=t.slice().sort((t,e)=>t.y-e.y),n=[];let i=null;for(let t=0;t<e.length;t++){var r=e[t];!i||r.y-i.y>i.height/2?n.push([r]):n[n.length-1].push(r),i=r}return n.map(t=>O(Q(t)))}(t),u=O(Q(t)),p=_(o);t=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===f.length&&f[0].left>f[1].right&&null!=h&&null!=d)return f.find(t=>h>t.left-p.left&&h<t.right+p.right&&d>t.top-p.top&&d<t.bottom+p.bottom)||u;if(2<=f.length){var t,e;if("y"===T(c))return n=f[0],i=f[f.length-1],r="top"===k(c),{top:t=n.top,bottom:o=i.bottom,left:e=(r?n:i).left,right:r=(r?n:i).right,width:r-e,height:o-t,x:e,y:t};const a="left"===k(c),s=w(...f.map(t=>t.right)),l=b(...f.map(t=>t.left));var n=f.filter(t=>a?t.left===l:t.right===s),i=n[0].top,r=n[n.length-1].bottom,o=l;return{top:i,bottom:r,left:o,right:s,width:s-o,height:r-i,x:o,y:i}}return u}},floating:e.floating,strategy:r});return n.reference.x!==t.reference.x||n.reference.y!==t.reference.y||n.reference.width!==t.reference.width||n.reference.height!==t.reference.height?{reset:{rects:t}}:{}}}},arrow:G,offset:function(i){return{name:"offset",options:i=void 0===i?0:i,async fn(t){var{x:e,y:n}=t,t=await async function(t,e){var{placement:n,platform:i,elements:r}=t,i=await(null==i.isRTL?void 0:i.isRTL(r.floating)),r=k(n),o=x(n),n="y"===T(n),r=["left","top"].includes(r)?-1:1,i=i&&n?-1:1;let{mainAxis:a,crossAxis:s,alignmentAxis:l}="number"==typeof(e=E(e,t))?{mainAxis:e,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...e};return o&&"number"==typeof l&&(s="end"===o?-1*l:l),n?{x:s*i,y:a*r}:{x:a*r,y:s*i}}(t,i);return{x:e+t.x,y:n+t.y,data:t}}}}};class yt extends t{static assignableAttributes=["data","columns"];static tagName="komp-data-table";_columns=[];static style=function(){return`
        ${this.tagName} {
            display: grid;
        }
        ${this.tagName}-row {
            display: contents;
        }
    `};constructor(t,...e){super(t,...e),this.columns&&this.initColumns(this.columns),this.data||(this.data=[])}connected(){0==Object.keys(this._columns).length?setTimeout(()=>{var t=l(this.firstElementChild);const e={},i=(Array.from(t.children).forEach(t=>{e[t.innerText]={}}),this.initColumns(e),Object.keys(e));0==this.data.length&&Array.from(this.children).forEach(t=>{const n={};this.data.push(n),Array.from(t.children).forEach((t,e)=>{n[i[e]]=t.innerText})}),this.render()},0):this.render()}render(){this.innerHTML="";const e=[],n=s(this.tagName+"-row");return this.append(n),this._columns.forEach(t=>{c(n,this.renderHeader(t)),e.push("1fr")}),this.style.gridTemplateColumns=e.join(" "),this.data.forEach(e=>{const n=s(this.tagName+"-row");this.append(n),this._columns.forEach(t=>n.append(this.renderCell(e,t)))}),this}renderHeader(t){return s(this.tagName+"-cell",{class:"komp-header",content:W(t,"header")})}renderCell(t,e){return s(this.tagName+"-cell",{content:W(e,"render",t)})}initColumns(e){return this._columns=Object.keys(e).map(t=>this.initColumn(t,e[t]))}initColumn(t,e){let n={id:t,render:this.defaultRender(t),header:this.defaultHeader(t)};return r(e)?n.render=e:Array.isArray(e)?n=Object.assign(n,{render:e[0]},e):"object"==typeof e?n=Object.assign(n,e):n.render=this.defaultRender(t),n}defaultHeader(t){return t}defaultRender(e){return t=>t[e]}}window.customElements.define(yt.tagName,yt);class vt extends mt{static watch=["anchor"];static assignableAttributes={autoPlacement:!1,flip:!0,shift:!0,strategy:"absolute",placement:"top",arrow:!0};_showing=!1;constructor(t,...e){super(t,...e),this.anchor&&this.anchorChanged(this.anchor,this.anchor),void 0===t&&(this.needsFirstRemoval=!0)}instantiate(){if(super.instantiate(),this.container=this.parentElement,0==this._showing)return l(this),!1}anchorChanged(t,e){t&&t instanceof HTMLElement&&(t.removeEventListener("mouseenter",this.show.bind(this)),t.removeEventListener("mouseleave",this.hide.bind(this))),e&&e instanceof HTMLElement&&(e.addEventListener("mouseenter",this.show.bind(this)),e.addEventListener("mouseleave",this.hide.bind(this)))}show(){this.container||(this.container=this.anchor.parentElement),this.parentElement||(this._showing=!0,this.container.append(this),this._showing=!1)}hide(){this._hideTimeout||(this._hideTimeout=setTimeout(()=>{this.parentElement&&this.remove(),delete this._hideTimeout},this.timeout))}toggle(t){this[(t="boolean"!=typeof t?null!==this.offsetParent:t)?"hide":"show"]()}}window.customElements.define("komp-tooltip",vt);class bt extends vt{static assignableAttributes={mouseevent:"click",placement:"bottom",arrow:!1};connected(...t){return this.addEventListenerFor(this.getRootNode(),"focusin",this.checkFocus.bind(this)),this.addEventListenerFor(this.getRootNode(),"click",this.checkFocus.bind(this)),this.addEventListenerFor(this.getRootNode(),"keyup",this.checkEscape.bind(this)),this.addEventListener("mouseenter",this.clearHide.bind(this)),"mouseenter"==this.mouseevent&&this.addEventListener("mouseleave",this.hide.bind(this)),super.connected(...t)}show(){super.show(),this.anchor.classList.add("-active")}hide(){super.hide(),this.anchor.classList.remove("-active")}anchorChanged(t,e){"mouseenter"==this.mouseevent?super.anchorChanged(t,e):(t&&t instanceof HTMLElement&&t.removeEventListener(this.mouseevent,this.toggle.bind(this)),e&&e instanceof HTMLElement&&e.addEventListener(this.mouseevent,this.toggle.bind(this)))}checkFocus(t){t.defaultPrevented||t.target==this||t.target==this.anchor||this.contains(t.target)||this.anchor.contains(t.target)||this.hide()}checkEscape(t){27==t.which&&this.hide()}clearHide(){this._hideTimeout&&(clearTimeout(this._hideTimeout),delete this._hideTimeout)}}window.customElements.define("komp-dropdown",bt);var wt=Object.freeze({__proto__:null,DataTable:yt,Dropdown:bt,Floater:mt,Modal:e,Tooltip:vt});Object.keys(wt).forEach(t=>{window[t]=wt[t]}),document.addEventListener("DOMContentLoaded",function(){var t,e,n,i,r;t=document,e=".js-toggle-source",n="click",i=t=>{document.querySelector(t.delegateTarget.getAttribute("rel")).classList.toggle("hide")},r={},t.addEventListener(n,t=>{t.target.matches(e)?(t.delegateTarget=t.target,i(t)):t.target.closest(e)&&(t.delegateTarget=t.target.closest(e),i(t))},r)})}();
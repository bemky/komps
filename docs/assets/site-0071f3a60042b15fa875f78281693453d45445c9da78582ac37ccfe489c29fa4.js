!function(){"use strict";const i=["accept","accept-charset","accesskey","action","align","allow","alt","async","autocapitalize","autocomplete","autofocus","autoplay","background","bgcolor","border","buffered","capture","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","csp","data","data-*","datetime","decoding","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","enterkeyhint","for","form","formaction","formenctype","formmethod","formnovalidate","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","importance","integrity","intrinsicsize","inputmode","ismap","itemprop","keytype","kind","label","lang","language","loading","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","referrerpolicy","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","translate","type","usemap","value","width","wrap","aria","aria-*"],W=["disabled","readOnly","multiple","checked","autobuffer","autoplay","controls","loop","selected","hidden","scoped","async","defer","reversed","isMap","seemless","muted","required","autofocus","noValidate","formNoValidate","open","pubdate","itemscope"];function n(r,o={}){Object.keys(o).forEach(e=>{if(0!=i.filter(t=>e.match(new RegExp(t))).length||"children"==e){const n=o[e];var t=W.find(t=>t.toUpperCase()==e.toUpperCase());if(t)return!1!==n?r[t]=!0:void 0;switch(e){case"tag":return;case"value":return r.value=n;case"data":if("object"==typeof n)return Object.keys(n).forEach(t=>{r.dataset[t]="object"==typeof n[t]?JSON.stringify(n[t]):n[t]});break;case"style":if("object"==typeof n)return Object.keys(n).forEach(t=>{r.style[t]=n[t]});break;case"content":case"children":return void c(r,n)}r.setAttribute(e,n)}})}function s(t="div",e={}){"object"==typeof t&&(t=(e=t).tag||"div");t=document.createElement(t);return n(t,e),t}function l(t){return t instanceof NodeList||t instanceof Array||t instanceof HTMLCollection?(t=Array.from(t)).forEach(l):t.parentNode.removeChild(t),t}function c(e,t,n,r,o){if(o=o||"append",Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection)Array.from(t).forEach(t=>c(e,t,n,r));else if(n instanceof Element)Array.from(arguments).slice(1).filter(t=>t instanceof Element).forEach(t=>c(e,t));else if("boolean"!=typeof n&&(r=n,n=void 0),null!=t){var i;if(t instanceof Promise||t.then){const a=document.createElement("span");return e[o](a),(new Date).getMilliseconds(),t.then(t=>{c(a,t,n,r),function t(e,n){if(Array.isArray(n)||n instanceof NodeList||n instanceof HTMLCollection){for(var r=Array.from(n);0<r.length;)e=t(e,r.pop());return e}if(Array.isArray(e)||e instanceof NodeList||e instanceof HTMLCollection)return t(e[0],n);if(e.parentNode)return n instanceof Node||(n=new Text(n)),e.parentNode.insertBefore(n,e),n;throw"argument of insertBefore unsupported"}(a,a.childNodes),l(a)})}return t instanceof Element||t instanceof Node?e[o](t):"function"==typeof t?c(e,t.bind(r)(e),n,r):"object"==typeof t?e[o](s(t)):n?e[o](t):((i=document.createElement("div")).innerHTML=t,e[o](...i.childNodes))}}function r(t,e){return getComputedStyle(t)[e]}function o(t){return t&&t.constructor&&t.call&&t.apply}function V(t,e,...n){e=t[e];return o(e)?e.call(t,...n):e}function e(t,e){let n=[];return function t(e,n){n(e);e=Object.getPrototypeOf(e);e&&t(e,n)}(t,t=>{n.push(t[e])}),n}class t extends HTMLElement{static assignableAttributes=[];static style="";static watch=[];static get observedAttributes(){return this.watch}_assignableAttributes=[];_attributes={};_cleanupCallbacks=[];is_instantiated=!1;constructor(t={}){super(),this._assignableAttributes=function(t,e){if(!Array.isArray(t))return t;const n=[];return e=e||((t,e)=>!e.includes(t)),t.forEach(t=>{e(t,n)&&n.push(t)}),n}(e(this.constructor,"assignableAttributes").filter(t=>t).flat()),this._assignableAttributes.forEach(n=>{this.hasOwnProperty(n)&&(this._attributes[n]=this[n]),Object.defineProperty(this,n,{configurable:!0,enumerable:!0,get:()=>this._attributes[n],set:t=>{var e=this._attributes[n];t!=e&&(this._attributes[n]=t,this.attributeChangedCallback(n,e,t))}}),t.hasOwnProperty(n)&&(this[n]=t[n],delete t[n])}),n(this,t)}instantiate(){return this._assignableAttributes.forEach(t=>{var e,n,r=this.getAttribute(t)||this.dataset[t]||this[t];"content"==t&&r?(this.removeAttribute("content"),n=r,(e=this).innerHTML="",c(e,n)):this[t]=r}),this.is_instantiated=!0}connected(){}connectedCallback(){this.trigger("beforeConnect"),this.appendStyle(),!this.is_instantiated&&!1===this.instantiate()||(this.connected(),this.trigger("afterConnect"))}disconnected(){}disconnectedCallback(){this.trigger("beforeDisconnect"),this._cleanupCallbacks.forEach(t=>t()),this._cleanupCallbacks=[],this.disconnected(),this.trigger("afterDisconnect")}changed(t,e,n){}attributeChangedCallback(t,...e){return this[t+"Changed"]&&this[t+"Changed"](...e),this.changed(t,...e)}appendStyle(){if(this.constructor.style){var t,e=this.getRootNode();const n=this.tagName.toLowerCase();e&&e.adoptedStyleSheets&&!e.adoptedStyleSheets.find(t=>t.id!=n)&&((t=new CSSStyleSheet).replaceSync(this.constructor.style),t.id=n,e.adoptedStyleSheets.push(t))}}async remove(t){return this.trigger("beforeRemove"),t&&await t(),l(this),this.trigger("afterRemove"),this}addEventListenerFor(...t){this._cleanupCallbacks.push(()=>{t[0].removeEventListener(...t.slice(1))}),t[0].addEventListener(...t.slice(1))}trigger(...t){var e,n;[t,e]=[this,...t],(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!1),t.dispatchEvent(n)}}class q extends t{static style=`
        komp-modal-backdrop {
            position: fixed;
            inset: 0;
            overflow: scroll;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0, 0.6);
            backdrop-filter: blur(4px); // Not supported for dialog::backdrop as of 2023-09-13
        }
        komp-modal-container {
            display: flex;
            justify-content: center;
            align-items: stretch;
            padding: 2em;
        }
        komp-modal-close {
            width: 0;
            position: relative;
            background: red;
        }
        komp-modal-close button {
            position: absolute;
            bottom: 100%;
            left: 0;
            padding: 0.25em;
            outline: none;
            appearance: none;
            border: none;
            background:none;
            padding: 0;
            margin: 0;
            list-style:none;
            text-decoration: none;
            color: white;
            cursor: pointer;
            opacity: 0.75;
        }
        komp-modal-close button:hover {
            opacity: 1;
        }
    `;connected(){var t;"KOMP-MODAL-CONTAINER"!=this.parentElement.tagName&&(t=s("komp-modal-container"),this.backdrop=s("komp-modal-backdrop",{content:t}),this.backdrop.addEventListener("click",t=>{t.target==this.backdrop&&this.remove()}),this.replaceWith(this.backdrop),t.append(this),t.append(s("komp-modal-close",{content:function(t){let e=t.pop(),n=t.pop();"string"==typeof n||Array.isArray(n)||(t=t.concat(n),n="click"),"string"!=typeof t[0]&&t.unshift("button");const r=s(...t);return(n=Array.isArray(n)?n:[n]).forEach(t=>r.addEventListener(t,e)),r}([{content:'<svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'},t=>{this.remove()}])}))),this.getRootNode().body.style.overflow="hidden"}remove(){super.remove(()=>{this.getRootNode().body.style.overflow="",l(this.backdrop)})}}window.customElements.define("komp-modal",q);const I=["start","end"],U=["top","right","bottom","left"].reduce((t,e)=>t.concat(e,e+"-"+I[0],e+"-"+I[1]),[]),w=Math.min,b=Math.max,a=Math.round,p=Math.floor,y=t=>({x:t,y:t}),X={left:"right",right:"left",bottom:"top",top:"bottom"},Y={start:"end",end:"start"};function v(t,e,n){return b(t,w(e,n))}function k(t,e){return"function"==typeof t?t(e):t}function E(t){return t.split("-")[0]}function x(t){return t.split("-")[1]}function $(t){return"x"===t?"y":"x"}function L(t){return"y"===t?"height":"width"}function A(t){return["top","bottom"].includes(E(t))?"y":"x"}function T(t){return $(A(t))}function J(t,e,n){void 0===n&&(n=!1);var r=x(t),t=T(t),o=L(t);let i="x"===t?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return[i=e.reference[o]>e.floating[o]?C(i):i,C(i)]}function R(t){return t.replace(/start|end/g,t=>Y[t])}function K(t,e,n,r){const o=x(t);let i=function(t,e,n){var r=["left","right"],o=["right","left"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(E(t),"start"===n,r);return i=o&&(i=i.map(t=>t+"-"+o),e)?i.concat(i.map(R)):i}function C(t){return t.replace(/left|right|bottom|top/g,t=>X[t])}function O(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function P(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function G(t,e,n){var{reference:r,floating:o}=t,t=A(e),i=T(e),a=L(i),s=E(e),l="y"===t,c=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[a]/2-o[a]/2;let u;switch(s){case"top":u={x:c,y:r.y-o.height};break;case"bottom":u={x:c,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:f};break;case"left":u={x:r.x-o.width,y:f};break;default:u={x:r.x,y:r.y}}switch(x(e)){case"start":u[i]-=d*(n&&l?-1:1);break;case"end":u[i]+=d*(n&&l?-1:1)}return u}async function S(t,e){var{x:n,y:r,platform:o,rects:i,elements:a,strategy:s}=t,{boundary:e="clippingAncestors",rootBoundary:t="viewport",elementContext:l="floating",altBoundary:c=!1,padding:f=0}=k(e=void 0===e?{}:e,t),f=O(f),c=a[c?"floating"===l?"reference":"floating":l],d=P(await o.getClippingRect({element:null==(d=await(null==o.isElement?void 0:o.isElement(c)))||d?c:c.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:e,rootBoundary:t,strategy:s})),c="floating"===l?{...i.floating,x:n,y:r}:i.reference,e=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),t=await(null==o.isElement?void 0:o.isElement(e))&&await(null==o.getScale?void 0:o.getScale(e))||{x:1,y:1},l=P(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c,offsetParent:e,strategy:s}):c);return{top:(d.top-l.top+f.top)/t.y,bottom:(l.bottom-d.bottom+f.bottom)/t.y,left:(d.left-l.left+f.left)/t.x,right:(l.right-d.right+f.right)/t.x}}const Q=g=>({name:"arrow",options:g,async fn(t){var{x:e,y:n,placement:r,rects:o,platform:i,elements:a}=t,{element:t,padding:s=0}=k(g,t)||{};if(null==t)return{};var s=O(s),e={x:e,y:n},n=T(r),l=L(n),c=await i.getDimensions(t),f="y"===n,d=f?"top":"left",u=f?"bottom":"right",f=f?"clientHeight":"clientWidth",h=o.reference[l]+o.reference[n]-e[n]-o.floating[l],p=e[n]-o.reference[n],t=await(null==i.getOffsetParent?void 0:i.getOffsetParent(t));let m=t?t[f]:0;h=h/2-p/2,p=(m=m&&await(null==i.isElement?void 0:i.isElement(t))?m:a.floating[f]||o.floating[l])/2-c[l]/2-1,i=w(s[d],p),t=w(s[u],p),a=i,f=m-c[l]-t,d=m/2-c[l]/2+h,s=v(a,d,f),u=null!=x(r)&&d!=s&&o.reference[l]/2-(d<a?i:t)-c[l]/2<0?d<a?a-d:f-d:0;return{[n]:e[n]-u,data:{[n]:s,centerOffset:d-s+u}}}});function Z(t){var e=w(...t.map(t=>t.left)),n=w(...t.map(t=>t.top));return{x:e,y:n,width:b(...t.map(t=>t.right))-e,height:b(...t.map(t=>t.bottom))-n}}function f(t){return tt(t)?(t.nodeName||"").toLowerCase():"#document"}function N(t){return(null==t||null==(t=t.ownerDocument)?void 0:t.defaultView)||window}function m(t){return null==(t=(tt(t)?t.ownerDocument:t.document)||window.document)?void 0:t.documentElement}function tt(t){return t instanceof Node||t instanceof N(t).Node}function _(t){return t instanceof Element||t instanceof N(t).Element}function d(t){return t instanceof HTMLElement||t instanceof N(t).HTMLElement}function et(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof N(t).ShadowRoot)}function u(t){var{overflow:t,overflowX:e,overflowY:n,display:r}=D(t);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(r)}function h(t){var e=g();const n=D(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some(t=>(n.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(n.contain||"").includes(t))}function g(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function M(t){return["html","body","#document"].includes(f(t))}function D(t){return N(t).getComputedStyle(t)}function j(t){return _(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(t){return"html"!==f(t)&&(t=t.assignedSlot||t.parentNode||et(t)&&t.host||m(t),et(t))?t.host:t}function z(t,e){void 0===e&&(e=[]);var n=function t(e){var n=H(e);return M(n)?(e.ownerDocument||e).body:d(n)&&u(n)?n:t(n)}(t),t=n===(null==(t=t.ownerDocument)?void 0:t.body),r=N(n);return t?e.concat(r,r.visualViewport||[],u(n)?n:[],r.frameElement?z(r.frameElement):[]):e.concat(n,z(n))}function nt(t){var e=D(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;var e=d(t),o=e?t.offsetWidth:n,e=e?t.offsetHeight:r,t=a(n)!==o||a(r)!==e;return t&&(n=o,r=e),{width:n,height:r,$:t}}function rt(t){return _(t)?t:t.contextElement}function F(t){t=rt(t);if(!d(t))return y(1);var e=t.getBoundingClientRect(),{width:t,height:n,$:r}=nt(t);let o=(r?a(e.width):e.width)/t,i=(r?a(e.height):e.height)/n;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}const ot=y(0);function it(t){t=N(t);return g()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ot}function B(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),i=rt(t);let a=y(1);e&&(r?_(r)&&(a=F(r)):a=F(t));e=i,void 0===(t=n)&&(t=!1);n=!(n=r)||t&&n!==N(e)||!t?y(0):it(i);let s=(o.left+n.x)/a.x,l=(o.top+n.y)/a.y,c=o.width/a.x,f=o.height/a.y;if(i){var d=N(i),u=r&&_(r)?N(r):r;let t=d.frameElement;for(;t&&r&&u!==d;){var h=F(t),p=t.getBoundingClientRect(),m=D(t),g=p.left+(t.clientLeft+parseFloat(m.paddingLeft))*h.x,p=p.top+(t.clientTop+parseFloat(m.paddingTop))*h.y;s*=h.x,l*=h.y,c*=h.x,f*=h.y,s+=g,l+=p,t=N(t).frameElement}}return P({width:c,height:f,x:s,y:l})}function at(t){return B(m(t)).left+j(t).scrollLeft}function st(t,e,n){let r;var o,i,a;return P(r="viewport"===e?function(t,e){var n=N(t),t=m(t),n=n.visualViewport;let r=t.clientWidth,o=t.clientHeight,i=0,a=0;return n&&(r=n.width,o=n.height,g()&&"fixed"!==e||(i=n.offsetLeft,a=n.offsetTop)),{width:r,height:o,x:i,y:a}}(t,n):"document"===e?function(t){var e=m(t),n=j(t),r=t.ownerDocument.body,o=b(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=b(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+at(t);return t=-n.scrollTop,"rtl"===D(r).direction&&(a+=b(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:t}}(m(t)):_(e)?(i=(n=B(o=e,!0,"fixed"===(n=n))).top+o.clientTop,n=n.left+o.clientLeft,a=d(o)?F(o):y(1),{width:o.clientWidth*a.x,height:o.clientHeight*a.y,x:n*a.x,y:i*a.y}):(o=it(t),{...e,x:e.x-o.x,y:e.y-o.y}))}function lt(t,e){var n=e.get(t);if(n)return n;let r=z(t).filter(t=>_(t)&&"body"!==f(t)),o=null;var i="fixed"===D(t).position;let a=i?H(t):t;for(;_(a)&&!M(a);){var s=D(a),l=h(a),l=(l||"fixed"!==s.position||(o=null),i?!l&&!o:!l&&"static"===s.position&&!!o&&["absolute","fixed"].includes(o.position)||u(a)&&!l&&function t(e,n){e=H(e);return!(e===n||!_(e)||M(e))&&("fixed"===D(e).position||t(e,n))}(t,a));l?r=r.filter(t=>t!==a):o=s,a=H(a)}return e.set(t,r),r}function ct(t,e){return d(t)&&"fixed"!==D(t).position?e?e(t):t.offsetParent:null}function ft(t,e){var n,r=N(t);if(!d(t))return r;let o=ct(t,e);for(;o&&(n=o,["table","td","th"].includes(f(n)))&&"static"===D(o).position;)o=ct(o,e);return(!o||"html"!==f(o)&&("body"!==f(o)||"static"!==D(o).position||h(o)))&&(o||function(t){let e=H(t);for(;d(e)&&!M(e);){if(h(e))return e;e=H(e)}return null}(t))||r}const dt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var{rect:t,offsetParent:e,strategy:n}=t,r=d(e),o=m(e);if(e===o)return t;let i={scrollLeft:0,scrollTop:0},a=y(1);var s=y(0);return(r||!r&&"fixed"!==n)&&("body"===f(e)&&!u(o)||(i=j(e)),d(e))&&(r=B(e),a=F(e),s.x=r.x+e.clientLeft,s.y=r.y+e.clientTop),{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-i.scrollLeft*a.x+s.x,y:t.y*a.y-i.scrollTop*a.y+s.y}},getDocumentElement:m,getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:r,strategy:o}=t;var i=(t=[..."clippingAncestors"===e?lt(n,this._c):[].concat(e),r])[0];return{width:(t=t.reduce((t,e)=>{e=st(n,e,o);return t.top=b(e.top,t.top),t.right=w(e.right,t.right),t.bottom=w(e.bottom,t.bottom),t.left=b(e.left,t.left),t},st(n,i,o))).right-t.left,height:t.bottom-t.top,x:t.left,y:t.top}},getOffsetParent:ft,getElementRects:async function(t){var{reference:t,floating:e,strategy:n}=t,r=this.getOffsetParent||ft,o=this.getDimensions;return{reference:function(t,e,n){var r=d(e),o=m(e),t=B(t,!0,n="fixed"===n,e);let i={scrollLeft:0,scrollTop:0};var a=y(0);return!r&&n||("body"===f(e)&&!u(o)||(i=j(e)),r?(r=B(e,!0,n,e),a.x=r.x+e.clientLeft,a.y=r.y+e.clientTop):o&&(a.x=at(o))),{x:t.left+i.scrollLeft-a.x,y:t.top+i.scrollTop-a.y,width:t.width,height:t.height}}(t,await r(e),n),floating:{x:0,y:0,...await o(e)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:nt,getScale:F,isElement:_,isRTL:function(t){return"rtl"===D(t).direction}};function ut(c,e){let f=null,d;const u=m(c);function h(){clearTimeout(d),f&&f.disconnect(),f=null}return function n(r,o){void 0===r&&(r=!1),void 0===o&&(o=1),h();var{left:t,top:i,width:a,height:s}=c.getBoundingClientRect();if(r||e(),a&&s){r={rootMargin:-p(i)+"px "+-p(u.clientWidth-(t+a))+"px "+-p(u.clientHeight-(i+s))+"px "+-p(t)+"px",threshold:b(0,w(1,o))||1};let e=!0;try{f=new IntersectionObserver(l,{...r,root:u.ownerDocument})}catch(t){f=new IntersectionObserver(l,r)}function l(t){if((t=t[0].intersectionRatio)!==o){if(!e)return n();t?n(!1,t):d=setTimeout(()=>{n(!1,1e-7)},100)}e=!1}f.observe(c)}}(!0),h}function ht(n,e,r,t){void 0===t&&(t={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=t,c=rt(n),f=o||i?[...c?z(c):[],...z(e)]:[],d=(f.forEach(t=>{o&&t.addEventListener("scroll",r,{passive:!0}),i&&t.addEventListener("resize",r)}),c&&s?ut(c,r):null);let u=-1,h=null;a&&(h=new ResizeObserver(t=>{var[t]=t;t&&t.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{h&&h.observe(e)})),r()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?B(n):null;return l&&function t(){const e=B(n);!m||e.x===m.x&&e.y===m.y&&e.width===m.width&&e.height===m.height||r();m=e;p=requestAnimationFrame(t)}(),r(),()=>{f.forEach(t=>{o&&t.removeEventListener("scroll",r),i&&t.removeEventListener("resize",r)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const pt=(t,e,n)=>{var r=new Map,n={platform:dt,...n},r={...n.platform,_c:r};return(async(e,n,t)=>{var{placement:r="bottom",strategy:o="absolute",middleware:t=[],platform:i}=t,a=t.filter(Boolean),s=await(null==i.isRTL?void 0:i.isRTL(n));let l=await i.getElementRects({reference:e,floating:n,strategy:o}),{x:c,y:f}=G(l,r,s),d=r,u={},h=0;for(let t=0;t<a.length;t++){var{name:p,fn:m}=a[t],{x:m,y:g,data:y,reset:v}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:u,rects:l,platform:i,elements:{reference:e,floating:n}});c=null!=m?m:c,f=null!=g?g:f,u={...u,[p]:{...u[p],...y}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(l=!0===v.rects?await i.getElementRects({reference:e,floating:n,strategy:o}):v.rects),{x:c,y:f}=G(l,d,s)),t=-1)}return{x:c,y:f,placement:d,strategy:o,middlewareData:u}})(t,e,{...n,platform:r})};class mt extends t{static assignableAttributes=["content","anchor","placement","strategy","flip","offset","shift","arrow","size","autoPlacement","inline","autoUpdate"];static style=`
        .komp-floater-arrow {
            --arrow-size: 0.5em;
            --arrow-left: 0;
            --arrow-top: 0;
        }
        .komp-floater-arrow:after{
            content: '';
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            z-index: 1;
            position:absolute;
            top: calc(var(--arrow-top) - var(--arrow-size));
            left: calc(var(--arrow-left) - var(--arrow-size));
            width: calc(var(--arrow-size) * 2);
            height: var(--arrow-size);
            overflow: hidden;
            border-style: solid;
            border-width: inherit;
            box-shadow: inherit;
            background: inherit;
            border: inherit;
        }
        .komp-floater-arrow.-top:after{
            top: 100%;
        }
        .komp-floater-arrow.-bottom:after{
            top: auto;
            bottom: 100%;
            transform: rotate(180deg);
        }
        .komp-floater-arrow.-left:after,
        .komp-floater-arrow.-right:after {
            clip-path: polygon(0 0, 100% 50%, 0 100%);
            width: var(--arrow-size);
            height: calc(var(--arrow-size) * 2);
        }
        .komp-floater-arrow.-left:after{
            left: 100%;
        }
        .komp-floater-arrow.-right:after{
            left: auto;
            right: 100%;
            transform: rotate(180deg);
        }
    `;autoPlacement=!0;shift=!0;strategy="absolute";constructor(...t){super(...t)}instantiate(){super.instantiate(),"string"==typeof this.anchor&&(this.anchor=this.getRootNode().querySelector(this.anchor))}connected(){if(this.style.position=this.strategy,!this.anchor)throw"Floater needs anchor to position to.";const n=[];Object.keys(gt).forEach(t=>{var e;this[t]&&("arrow"==t?(e=s("div",{style:{position:"absolute",left:0,top:0,width:"1px",height:"1px"}}),this.prepend(e),n.push(Q({element:e})),this.classList.add("komp-floater-arrow"),"number"==typeof this.arrow&&this.style.setProperty("--arrow-size",this.arrow),this.offset||(this.offset=!0===this.arrow?10:this.arrow)):n.push(gt[t](!0===this[t]?{}:this[t])))}),this._cleanupCallbacks.push(ht(this.anchor,this,()=>{pt(this.anchor,this,{strategy:this.strategy,placement:this.placement,middleware:n}).then(({x:t,y:e,placement:n,middlewareData:r})=>{if(this.style.left=t+"px",this.style.top=e+"px",console.log(n),this.classList.remove("-top","-left","-bottom","-right"),this.classList.add("-"+n),r.arrow){const{x:t,y:e}=r.arrow;null!=t&&this.style.setProperty("--arrow-left",t+"px"),null!=e&&this.style.setProperty("--arrow-top",e+"px")}})},this.autoUpdate)),this.classList.add("-in","-in-start");var t=1e3*Math.max(...r(this,"transition-duration").split(", ").map(t=>parseFloat(t)));setTimeout(()=>{this.classList.remove("-in-start")},0),setTimeout(()=>{this.classList.remove("-in")},t)}remove(n){super.remove(()=>new Promise(t=>{this.classList.add("-out","-out-start");var e=1e3*Math.max(...r(this,"transition-duration").split(", ").map(t=>parseFloat(t)));setTimeout(()=>{this.classList.remove("-out-start")},0),setTimeout(()=>{t(),n&&n(),this.classList.remove("-out")},e)}))}}window.customElements.define("komp-floater",mt);const gt={size:function(v){return{name:"size",options:v=void 0===v?{}:v,async fn(t){var{placement:e,rects:n,platform:r,elements:o}=t;const{apply:i=()=>{},...a}=k(v,t);var s=await S(t,a),l=E(e),c=x(e),e="y"===A(e),{width:n,height:f}=n.floating;let d,u;"top"===l||"bottom"===l?(d=l,u=c===(await(null==r.isRTL?void 0:r.isRTL(o.floating))?"start":"end")?"left":"right"):(u=l,d="end"===c?"top":"bottom");var h,l=f-s[d],p=n-s[u],m=!t.middlewareData.shift;let g=l,y=p;e?(h=n-s.left-s.right,y=c||m?w(p,h):h):(p=f-s.top-s.bottom,g=c||m?w(l,p):p),m&&!c&&(h=b(s.left,0),l=b(s.right,0),p=b(s.top,0),m=b(s.bottom,0),e?y=n-2*(0!==h||0!==l?h+l:b(s.left,s.right)):g=f-2*(0!==p||0!==m?p+m:b(s.top,s.bottom))),await i({...t,availableWidth:y,availableHeight:g});c=await r.getDimensions(o.floating);return n!==c.width||f!==c.height?{reset:{rects:!0}}:{}}}},shift:function(p){return{name:"shift",options:p=void 0===p?{}:p,async fn(t){var{x:e,y:n,placement:r}=t;const{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:t=>{var{x:t,y:e}=t;return{x:t,y:e}}},...s}=k(p,t);var l,c={x:e,y:n},f=await S(t,s),r=A(E(r)),d=$(r);let u=c[d],h=c[r];o&&(c=u+f["y"===d?"top":"left"],l=u-f["y"===d?"bottom":"right"],u=v(c,u,l)),i&&(c=h+f["y"===r?"top":"left"],l=h-f["y"===r?"bottom":"right"],h=v(c,h,l));f=a.fn({...t,[d]:u,[r]:h});return{...f,data:{x:f.x-e,y:f.y-n}}}}},autoPlacement:function(g){return{name:"autoPlacement",options:g=void 0===g?{}:g,async fn(t){var{rects:e,middlewareData:n,placement:r,platform:o,elements:i}=t;const{crossAxis:a=!1,alignment:s,allowedPlacements:l=U,autoAlignment:c=!0,...f}=k(g,t);var d,u,h=void 0!==s||l===U?(u=c,h=l,((d=s||null)?[...h.filter(t=>x(t)===d),...h.filter(t=>x(t)!==d)]:h.filter(t=>E(t)===t)).filter(t=>!d||x(t)===d||!!u&&R(t)!==t)):l,t=await S(t,f),p=(null==(p=n.autoPlacement)?void 0:p.index)||0,m=h[p];return null==m?{}:(e=J(m,e,await(null==o.isRTL?void 0:o.isRTL(i.floating))),r!==m?{reset:{placement:h[0]}}:(o=[t[E(m)],t[e[0]],t[e[1]]],t=[...(null==(i=n.autoPlacement)?void 0:i.overflows)||[],{placement:m,overflows:o}],(e=h[p+1])?{data:{index:p+1,overflows:t},reset:{placement:e}}:(m=(null==(i=(n=t.map(t=>{var e=x(t.placement);return[t.placement,e&&a?t.overflows.slice(0,2).reduce((t,e)=>t+e,0):t.overflows[0],t.overflows]}).sort((t,e)=>t[1]-e[1])).filter(t=>t[2].slice(0,x(t[0])?2:3).every(t=>t<=0))[0])?void 0:i[0])||n[0][0])!==r?{data:{index:p+1,overflows:t},reset:{placement:m}}:{}))}}},flip:function(x){return{name:"flip",options:x=void 0===x?{}:x,async fn(t){const{placement:e,middlewareData:n,rects:r,initialPlacement:o,platform:i,elements:a}=t,{mainAxis:s=!0,crossAxis:l=!0,fallbackPlacements:c,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:u=!0,...h}=k(x,t);var p=E(e),m=E(o)===o,g=await(null==i.isRTL?void 0:i.isRTL(a.floating)),m=c||(m||!u?[C(o)]:(y=C(m=o),[R(m),y,R(y)])),y=(c||"none"===d||m.push(...K(o,u,d,g)),[o,...m]),m=await S(t,h),t=[],v=(null==(w=n.flip)?void 0:w.overflows)||[];if(s&&t.push(m[p]),l&&(w=J(e,r,g),t.push(m[w[0]],m[w[1]])),v=[...v,{placement:e,overflows:t}],!t.every(t=>t<=0)){var w,b,g=((null==(p=n.flip)?void 0:p.index)||0)+1,m=y[g];if(m)return{data:{index:g,overflows:v},reset:{placement:m}};let t=null==(w=v.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:w.placement;if(!t)switch(f){case"bestFit":{const e=null==(b=v.map(t=>[t.placement,t.overflows.filter(t=>0<t).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:b[0];e&&(t=e);break}case"initialPlacement":t=o}if(e!==t)return{reset:{placement:t}}}return{}}}},inline:function(a){return{name:"inline",options:a=void 0===a?{}:a,async fn(t){const{placement:c,elements:e,rects:n,platform:r,strategy:o}=t,{padding:i=2,x:f,y:d}=k(a,t);t=Array.from(await(null==r.getClientRects?void 0:r.getClientRects(e.reference))||[]);const u=function(t){var e=t.slice().sort((t,e)=>t.y-e.y),n=[];let r=null;for(let t=0;t<e.length;t++){var o=e[t];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(t=>P(Z(t)))}(t),h=P(Z(t)),p=O(i);t=await r.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=f&&null!=d)return u.find(t=>f>t.left-p.left&&f<t.right+p.right&&d>t.top-p.top&&d<t.bottom+p.bottom)||h;if(2<=u.length){var t,e;if("y"===A(c))return n=u[0],r=u[u.length-1],o="top"===E(c),{top:t=n.top,bottom:i=r.bottom,left:e=(o?n:r).left,right:o=(o?n:r).right,width:o-e,height:i-t,x:e,y:t};const a="left"===E(c),s=b(...u.map(t=>t.right)),l=w(...u.map(t=>t.left));var n=u.filter(t=>a?t.left===l:t.right===s),r=n[0].top,o=n[n.length-1].bottom,i=l;return{top:r,bottom:o,left:i,right:s,width:s-i,height:o-r,x:i,y:r}}return h}},floating:e.floating,strategy:o});return n.reference.x!==t.reference.x||n.reference.y!==t.reference.y||n.reference.width!==t.reference.width||n.reference.height!==t.reference.height?{reset:{rects:t}}:{}}}},arrow:Q,offset:function(r){return{name:"offset",options:r=void 0===r?0:r,async fn(t){var{x:e,y:n}=t,t=await async function(t,e){var{placement:n,platform:r,elements:o}=t,r=await(null==r.isRTL?void 0:r.isRTL(o.floating)),o=E(n),i=x(n),n="y"===A(n),o=["left","top"].includes(o)?-1:1,r=r&&n?-1:1;let{mainAxis:a,crossAxis:s,alignmentAxis:l}="number"==typeof(e=k(e,t))?{mainAxis:e,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...e};return i&&"number"==typeof l&&(s="end"===i?-1*l:l),n?{x:s*r,y:a*o}:{x:a*o,y:s*r}}(t,r);return{x:e+t.x,y:n+t.y,data:t}}}}};class yt extends t{static assignableAttributes=["data","columns"];_columns=[];static style=`
        komp-data-table {
            display: grid;
        }
        komp-data-table-row {
            display: contents;
        }
    `;constructor(t,...e){super(t,...e),this.columns&&this.initColumns(this.columns),this.data||(this.data=[])}connected(){0==Object.keys(this._columns).length?setTimeout(()=>{var t=l(this.firstElementChild);const e={},r=(Array.from(t.children).forEach(t=>{e[t.innerText]={}}),this.initColumns(e),Object.keys(e));0==this.data.length&&Array.from(this.children).forEach(t=>{const n={};this.data.push(n),Array.from(t.children).forEach((t,e)=>{n[r[e]]=t.innerText})}),this.render()},0):this.render()}render(){this.innerHTML="";const e=[],n=s("komp-data-table-row");return this.append(n),this._columns.forEach(t=>{e.push("1fr"),n.append(s("komp-data-table-cell",{class:"-header",content:V(t,"header")}))}),this.style.gridTemplateColumns=e.join(" "),this.data.forEach(e=>{const n=s("komp-data-table-row");this.append(n),this._columns.forEach(t=>{n.append(s("komp-data-table-cell",{content:V(t,"render",e)}))})}),this}initColumns(e){return this._columns=Object.keys(e).map(t=>this.initColumn(t,e[t]))}initColumn(t,e){let n={id:t,render:this.defaultRender(t),header:this.defaultHeader(t)};return o(e)?n.render=e:Array.isArray(e)?n=Object.assign(n,{render:e[0]},e):"object"==typeof e?n=Object.assign(n,e):n.render=this.defaultRender(t),n}defaultHeader(t){return t}defaultRender(e){return t=>t[e]}}window.customElements.define("komp-data-table",yt);class vt extends mt{static watch=["anchor"];autoPlacement=!1;flip=!0;shift=!0;strategy="absolute";placement="top";arrow=!0;instantiate(){return super.instantiate(),this.container=this.parentElement,l(this),!1}anchorChanged(t,e){t&&t instanceof HTMLElement&&(t.removeEventListener("mouseenter",this.show.bind(this)),t.removeEventListener("mouseleave",this.hide.bind(this))),e&&e instanceof HTMLElement&&(e.addEventListener("mouseenter",this.show.bind(this)),e.addEventListener("mouseleave",this.hide.bind(this)))}show(){this.parentElement||this.container.append(this)}hide(){this.parentElement&&this.remove()}toggle(t){this[(t=void 0===t?void 0===this.offsetParent:t)?"hide":"show"]()}}window.customElements.define("komp-tooltip",vt);var wt=Object.freeze({__proto__:null,DataTable:yt,Floater:mt,Modal:q,Tooltip:vt});Object.keys(wt).forEach(t=>{window[t]=wt[t]}),document.addEventListener("DOMContentLoaded",function(){var t,e,n,r,o;t=document,e=".js-toggle-source",n="click",r=t=>{document.querySelector(t.delegateTarget.getAttribute("rel")).classList.toggle("hide")},o={},t.addEventListener(n,t=>{t.target.matches(e)?(t.delegateTarget=t.target,r(t)):t.target.closest(e)&&(t.delegateTarget=t.target.closest(e),r(t))},o)})}();